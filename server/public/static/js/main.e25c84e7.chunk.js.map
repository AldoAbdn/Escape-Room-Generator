{"version":3,"sources":["middleware/logger.js","middleware/index.js","reducers/user.js","reducers/escapeRooms.js","models/Component.js","models/Area.js","models/Puzzle.js","models/Prop.js","models/Lock.js","models/Event.js","models/Music.js","models/EscapeRoom.js","reducers/escapeRoom.js","models/Modal.js","reducers/modal.js","reducers/index.js","components/Profile.js","pdf/pdf.js","components/Dashboard.js","components/EscapeRoomDesigner.js","components/Details.js","components/Design.js","components/ComponentDnDTarget.js","components/ComponentDnDSource.js","components/AreaDnDTarget.js","components/AreaDnDSource.js","components/PalletItem.js","components/Pallet.js","components/ComponentArranger.js","components/ComponentDetails.js","components/Accessibility.js","components/Login.js","components/PasswordStrengthMeter.js","components/SignUp.js","components/About.js","components/Tutorials.js","components/ProtectedRoute.js","components/NotFound.js","generators/LockGenerator.js","components/LockGenerator.js","puzzles/Puzzle.js","puzzles/Colour.js","puzzles/Crossword.js","puzzles/HiddenWord.js","puzzles/Riddle.js","puzzles/Cipher.js","generators/PuzzleGenerator.js","components/ListCreator.js","components/PuzzleGenerator.js","components/Verify.js","components/Reset.js","components/BusinessLogic.js","components/Main.js","actions/user.js","actions/escapeRooms.js","actions/escapeRoom.js","actions/modal.js","components/App.js","serviceWorker.js","index.js","stores/store.js"],"names":["logger","store","next","action","console","groupCollapsed","type","info","result","log","getState","groupEnd","reduxThunk","reduxPromiseMiddleware","user","state","escapeRooms","i","push","escapeRoom","slice","findIndex","_id","Component","this","uniqid","version","name","description","output","inputComponents","outputComponents","position","top","left","estimatedCost","resources","Area","Puzzle","puzzle","puzzleType","Prop","Lock","lockType","Event","eventType","Music","startTime","endTime","EscapeRoom","userId","details","designers","theme","minPlayers","maxPlayers","targetTime","difficulty","objective","accessibility","visual","protanomaly","protanopia","deuteranomaly","deuteranopia","tritanomaly","tritanopia","coneMonochromacy","rodMonochromacy","largeFonts","highContrast","physical","wheelchairAccessible","motorAccessible","components","cost","isNaN","parseFloat","parseInt","id","find","component","findComponent","outputs","string","undefined","join","length","reduce","sum","newState","areaId","calculateCost","componentId","forEach","index","filter","inputId","outputId","indexOf","parentId","isInput","Modal","header","body","confirmText","confirmCallback","cancelText","cancelCallback","isOpen","confirm","text","cancel","modal","reduxifiedServices","combineReducers","usersService","users","reducer","escapeRoomsService","authManagementService","authmanagement","routing","routerReducer","Profile","handleSubmit","event","a","preventDefault","props","updateUser","email","password","handleChange","setState","target","value","handleDismiss","message","handleClick","edit","color","identityChange","oldProps","newProps","profile","Container","fluid","Row","Col","className","src","avatar","alt","Button","block","onClick","editProfile","Form","onSubmit","FormGroup","Label","for","Input","onChange","Alert","toggle","escapeRoomToPDF","doc","jsPDF","convertedObject","convertObject","object","x","y","Object","keys","key","includes","addPage","addImage","constructor","Array","JSON","stringify","line","childObject","save","Dashboard","handleToggle","e","dropdownOpen","newEscapeRoom","handleItemClick","editEscapeRoom","saveJSON","savePDF","deleteEscapeRoom","showModal","mapEscapeRoomToList","ListGroupItem","Dropdown","style","display","right","DropdownToggle","caret","DropdownMenu","DropdownItem","disabled","blob","Blob","saveAs","ListGroup","map","EscapeRoomDesigner","saveEscapeRoom","handleNav","tab","activeTab","toggleSvgs","lines","document","querySelectorAll","calculateOutput","calculateComponentOutput","history","prevProps","prevState","xs","md","lg","Nav","tabs","NavItem","NavLink","classnames","active","TabContent","TabPane","tabId","updateDetails","updateAccessibility","addComponent","removeComponent","updateComponent","addRelationship","removeRelationship","Details","aria-hidden","placeholder","UncontrolledTooltip","min","max","Design","handleComponentClick","stopPropagation","selected","renderTrigger","ComponentDnDTarget","item","tooltip","classNames","isOver","canDrop","connectDropTarget","Card","CardBody","DropTarget","drop","monitor","didDrop","getItem","handleComponentDrop","moved","connect","dropTarget","isOverCurrent","shallow","itemType","getItemType","componentSource","canDrag","isDragging","beginDrag","endDrag","ComponentDnDSource","update","forceUpdate","window","addEventListener","removeEventListener","isTarget","connectDragSource","DragSource","dragSource","componentTarget","clientOffset","getClientOffset","targetRect","ReactDOM","findDOMNode","getBoundingClientRect","height","width","AreaDnDTarget","updateScreenSize","screenWidth","innerHeight","screenHeight","render","title","CardTitle","areaSource","AreaDnDSource","iconId","addRef","palletItem","descriptions","PalletItem","Pallet","areaArrangerTarget","AreaModel","ComponentArranger","mapAreas","area","ref","refs","setTimeout","inputComponent","from","to","borderColor","outputComponent","ComponentDetails","handleOutputChange","handlePuzzleChange","generateFromInputs","mapDetailToInput","generator","convertCamelCase","property","array","detail","mapKeysToRow","handleOnClick","oldId","mapIDToP","visualWarning","physicalWarning","toString","replace","str","toUpperCase","properties","inputs","inputRelationships","outputRelationships","visualKeys","physicalKeys","class","Accessibility","handleVisualChange","handlePhysicalChange","CustomInput","label","Login","recaptcha","authenticateCredentials","strategy","err","sendReset","handleReCAPTCHA","sitekey","process","FormText","Link","PasswordStrengthMeter","convertScoreToLabel","score","Signup","password2","signUp","zxcvbn","composemessage","messages","testResult","contains","handleTestResult","noValidate","required","About","href","Tutorials","api_key","playlist_id","scrolling","ProtectedRoute","localStorage","condition","Route","Redirect","redirect","location","NotFound","LockGenerator","number","Math","floor","random","amount","wordsPerString","words","RandomWords","exactly","sequence","directions","handleNumericClick","lockGenerator","generateNumericCombination","handleWordClick","generateWords","handleDirectionalClick","generateDirectionSequence","lockGen","step","Colour","numbers","generateNumbers","num1","num2","num3","num4","answer","colour","Crossword","hints","answers","crossword","CrosswordGenerator","HiddenWord","word","hiddenWord","generateHiddenWord","matrix","Riddle","riddle","generateRandomRiddle","riddles","Cipher","cipherType","encoder","encoders","decoder","decoders","encoderDATA","decoderDATA","PuzzleGenerator","options","ListCreator","items","addItem","removeItem","mapItemsToInputs","InputGroup","InputGroupAddon","addonType","InputGroupText","handleListChange","list","generateWord","handleRiddleClick","handleCipherClick","generateCipher","cipher","puzzleGenerator","Verify","verify","token","Reset","reset","BusinessLogic","credentials","feathersClient","authenticate","redux","actions","login","services","create","query","queryResult","data","setSelectedEscapeRoom","response","addEscapeRoom","remove","removeEscapeRoom","updateEscapeRoom","authManagement","include","escapeRoomActions","Switch","exact","path","routeProps","match","params","componet","Main","toggleProfile","isProfileOpen","reAuthenticate","populateEscapeRooms","logout","updateEscapeRooms","loading","changes","tooltipOpen","isLoading","hideModal","nav","inNavbar","spinner","Navbar","light","expand","NavbarBrand","NavbarToggler","Collapse","navbar","ModalHeader","ModalBody","ModalFooter","clearSelectedEscapeRoom","App","dispatch","bindActionCreators","userActionCreators","escapeRoomsActionCreators","escapeRoomActionCreators","modalActionCreators","stateProps","dispatchProps","ownProps","withRouter","Boolean","hostname","pipline","backends","backend","HTML5Backend","TouchBackend","enableMouseEvents","preview","transition","TouchTransition","MultiBackend","feathers","configure","socketio","io","authentication","storage","rawServices","reduxifyServices","initialState","createStoreWithDevTools","devToolsExtension","createStore","applyMiddleware","middlewares","createStoreWithMiddlewares","rootReducer","configureStore","bindWithDispatch","router","BrowserRouter","getServicesStatus","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e25c84e7.chunk.js","sourcesContent":["/*\r\n A basic middleware logger\r\n See http://redux.js.org/docs/advanced/Middleware.html\r\n */\r\n\r\nconst logger = store => next => action => {\r\n    console.groupCollapsed(action.type); // eslint-disable-line no-console\r\n    console.info('dispatching', action); // eslint-disable-line no-console\r\n    const result = next(action);\r\n    console.log('next state', store.getState()); // eslint-disable-line no-console\r\n    console.groupEnd(action.type); // eslint-disable-line no-console\r\n    return result;\r\n  };\r\n  \r\n  export default logger;","// eslint no-unused-vars: 0,\r\n\r\nimport reduxThunk from 'redux-thunk';\r\nimport reduxPromiseMiddleware from 'redux-promise-middleware';\r\n// import { routerMiddleware } from 'react-router-redux';\r\n// import { browserHistory } from 'react-router';\r\nimport logger from './logger'; // eslint-disable-line no-unused-vars\r\n\r\nexport default [\r\n  reduxThunk, // Thunk middleware for Redux\r\n  reduxPromiseMiddleware(), // Resolve, reject promises with conditional optimistic updates\r\n  // routerMiddleware(browserHistory), // !! IMPORTANT for location.href changes\r\n  logger, // A basic middleware logger\r\n];","function user(state={},action){\r\n    switch(action.type){\r\n        case 'LOGIN':\r\n            return {...action.user};\r\n            \r\n        case 'LOGOUT':\r\n            return {};\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default user;","function escapeRooms(state=[],action){\r\n    let i;\r\n    switch(action.type){\r\n        case 'ADD_ESCAPE_ROOM':\r\n            state.push(action.escapeRoom);\r\n            return state.slice();\r\n            \r\n        case 'REMOVE_ESCAPE_ROOM':\r\n            i = state.findIndex(escapeRoom => escapeRoom._id === action.escapeRoom._id);\r\n            return [...state.slice(0,i),...state.slice(i+1)];\r\n            \r\n        case 'UPDATE_ESCAPE_ROOM':\r\n            i = state.findIndex(escapeRoom=>escapeRoom._id === action.escapeRoom._id);\r\n            state[i] = action.escapeRoom;\r\n            return state.slice(); \r\n            \r\n        case 'UPDATE_ESCAPE_ROOMS':\r\n            return action.escapeRooms.slice();\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default escapeRooms;","import uniqid from 'uniqid';\r\n\r\nexport default class Component {\r\n    constructor(){\r\n        this._id = uniqid();\r\n        this.version = \"1\";\r\n        this.name = \"\";\r\n        this.description = \"\";\r\n        this.output = \"\";\r\n        this.inputComponents = [];\r\n        this.outputComponents = [];\r\n        this.type = \"Component\";\r\n        this.position = {top:0,left:0};\r\n        this.estimatedCost = \"\";\r\n        this.resources = [];\r\n    }\r\n}","import Component from './Component';\r\nexport default class Area extends Component {\r\n    constructor(){\r\n        super();\r\n        this.type=\"Area\";\r\n    }   \r\n}","import Component from './Component';\r\nexport default class Puzzle extends Component {\r\n    constructor(){\r\n        super();\r\n        this.puzzle = {};\r\n        this.puzzleType=\"Cipher\";\r\n        this.type=\"Puzzle\";\r\n    }   \r\n}","import Component from './Component';\r\nexport default class Prop extends Component {\r\n    constructor(){\r\n        super();\r\n        this.type=\"Prop\";\r\n    }   \r\n}","import Component from './Component';\r\nexport default class Lock extends Component {\r\n    constructor(){\r\n        super();\r\n        this.lockType=\"Numeric\";\r\n        this.type=\"Lock\";\r\n    }   \r\n}","import Component from './Component';\r\nexport default class Event extends Component {\r\n    constructor(){\r\n        super();\r\n        this.eventType=\"Sound Effect\";\r\n        this.type=\"Event\";\r\n    }   \r\n}","import Component from './Component';\r\nexport default class Music extends Component {\r\n    constructor(){\r\n        super();\r\n        this.startTime=\"\";\r\n        this.endTime=\"\"\r\n        this.type=\"Music\";\r\n    }   \r\n}","import { Area } from \".\";\r\nexport default class EscapeRoom {\r\n    constructor(userId){\r\n        this.userId = userId;\r\n        this.details = {\r\n            name: \"Unnamed\",\r\n            designers: \"\",\r\n            theme: \"\",\r\n            minPlayers: \"\",\r\n            maxPlayers: \"\",\r\n            targetTime: \"\",\r\n            difficulty: \"3\",\r\n            objective: \"\",\r\n            description: \"\",\r\n            estimatedCost: \"\"\r\n        }\r\n        this.accessibility = {   \r\n            visual:{\r\n                protanomaly: false,\r\n                protanopia: false,\r\n                deuteranomaly: false,\r\n                deuteranopia: false,\r\n                tritanomaly: false,\r\n                tritanopia: false,\r\n                coneMonochromacy: false,\r\n                rodMonochromacy: false,\r\n                largeFonts: false,\r\n                highContrast: false\r\n            },\r\n            physical:{\r\n                wheelchairAccessible: false,\r\n                motorAccessible: false\r\n            } \r\n        }\r\n        this.components = [new Area()]\r\n    }  \r\n\r\n    static calculateCost(escapeRoom){\r\n        let components = escapeRoom.components;\r\n        let cost = 0;\r\n        for (let component of components){\r\n            let estimatedCost = component.estimatedCost;\r\n            if(!isNaN(parseFloat(estimatedCost))){\r\n                cost += parseFloat(estimatedCost);\r\n            } else if (!isNaN(parseFloat(estimatedCost))){\r\n                cost += parseInt(estimatedCost);\r\n            }\r\n        }\r\n        return cost;\r\n    }\r\n\r\n    static findComponent(escapeRoom,id){\r\n        return escapeRoom.components.find((component)=>{return component._id===id})\r\n    }\r\n\r\n    static calculateComponentOutput(escapeRoom,id){\r\n        let component = EscapeRoom.findComponent(escapeRoom,id);\r\n        if(component!=null){\r\n            let outputs = [];\r\n            for(let id of component.inputComponents){\r\n                let component = EscapeRoom.findComponent(escapeRoom,id);\r\n                outputs.push(component.output);\r\n            }\r\n            let string = outputs.find((output)=>parseFloat(output));\r\n            if(string!==null||string!==undefined){\r\n                return outputs.join(\" \");\r\n            } else {\r\n                if(outputs.length>1)\r\n                    return outputs.reduce((sum,output)=>parseFloat(sum)+parseFloat(output));\r\n                else \r\n                    return \"\";\r\n            }\r\n        }\r\n    }\r\n}","import EscapeRoom from '../models/EscapeRoom';\r\nfunction escapeRoom(state={},action){\r\n    let newState = {};\r\n    let i;\r\n    switch(action.type){\r\n        case 'SET_SELECTED_ESCAPE_ROOM':\r\n            return {...action.escapeRoom};\r\n        case 'CLEAR_SELECTED_ESCAPE_ROOM':\r\n            return {}\r\n        case 'UPDATE_DETAILS':\r\n            newState = {...state};\r\n            newState.details = {...newState.details, ...action.details};\r\n            return newState;\r\n        case 'UPDATE_ACCESSIBILITY':\r\n            newState = {...state};\r\n            newState.accessibility = {...newState.accessibility, ...action.accessibility};\r\n            return newState;\r\n        case 'ADD_COMPONENT':\r\n            newState = {...state};\r\n            newState.components.push(action.component);\r\n            if(action.areaId!==undefined){\r\n                i = newState.components.findIndex(component=>component._id===action.areaId);\r\n                newState.components[i].outputComponents.push(action.component._id);\r\n            }\r\n            newState.details.estimatedCost = EscapeRoom.calculateCost(newState);\r\n            return newState;\r\n        case 'REMOVE_COMPONENT':\r\n            newState = {...state};\r\n            i = newState.components.findIndex(component=>component._id===action.componentId);\r\n            newState.components = [...newState.components.slice(0,i),...newState.components.slice(i+1)]\r\n            newState.components.forEach((component,index,components)=>{\r\n                components[index].inputComponents = component.inputComponents.filter(inputId=>inputId!==action.componentId);\r\n                components[index].outputComponents = component.outputComponents.filter(outputId=>outputId!==action.componentId);\r\n            })\r\n            newState.details.estimatedCost = EscapeRoom.calculateCost(newState);\r\n            return newState;\r\n        case 'UPDATE_COMPONENT':\r\n            newState = {...state};\r\n            i = newState.components.findIndex(component=>component._id===action.component._id);\r\n            newState.components[i] = {...newState.components[i],...action.component};\r\n            if(action.areaId!=null){\r\n                newState.components.forEach((component,index,components)=>{\r\n                    if(component.type===\"Area\")\r\n                        components[index].outputComponents = component.outputComponents.filter(outputId=>outputId!==action.component._id);\r\n                });\r\n                i = newState.components.findIndex(component=>component._id===action.areaId);\r\n                if(newState.components[i].outputComponents.indexOf(action.component._id)===-1)\r\n                    newState.components[i].outputComponents.push(action.component._id);\r\n            }\r\n            newState.details.estimatedCost = EscapeRoom.calculateCost(newState);\r\n            return newState;\r\n        case 'ADD_RELATIONSHIP':\r\n            newState = {...state};\r\n            newState.components.forEach((component,index,components)=>{\r\n                if(component._id===action.parentId){\r\n                    if(action.isInput){\r\n                        if(component.inputComponents.indexOf(action.componentId)===-1)\r\n                            component.inputComponents.push(action.componentId);\r\n                    } else {\r\n                        if(component.outputComponents.indexOf(action.componentId)===-1)\r\n                            component.outputComponents.push(action.componentId);\r\n                    }\r\n                }\r\n            });\r\n            return newState;\r\n        case 'REMOVE_RELATIONSHIP':\r\n            newState = {...state};\r\n            newState.components.forEach((component,index,components)=>{\r\n                if(component._id===action.parentId){\r\n                    if(action.isInput){\r\n                        if(component.inputComponents.indexOf(action.componentId)===-1)\r\n                            component.inputComponents = component.inputComponents.filter(id=>id!==action.componentId);\r\n                    } else {\r\n                        if(component.outputComponents.indexOf(action.componentId)===-1)\r\n                            component.outputComponents = component.outputComponents.filter(id=>id!==action.componentId);\r\n                    }\r\n                }\r\n            });\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default escapeRoom;","class Modal {\r\n    constructor(header,body,confirmText,confirmCallback,cancelText,cancelCallback,isOpen=true){\r\n        this.header = header;\r\n        this.body = body;\r\n        this.confirm = {text:confirmText,action:confirmCallback}; //Converts callback to a string, because redux can't store funcs\r\n        this.cancel = {text:cancelText,action:cancelCallback};\r\n        this.isOpen = isOpen;\r\n    }\r\n}\r\n\r\nexport default Modal","import Modal from \"../models/Modal\";\r\n\r\nfunction modal(state=new Modal(\"\",\"\",\"\",()=>{},\"\",()=>{},false),action){\r\n    switch(action.type){\r\n        case 'SHOW_MODAL':\r\n            return {...action.modal,isOpen:true};\r\n        case 'HIDE_MODAL':\r\n            return new Modal(\"\",\"\",\"\",()=>{},\"\",()=>{},false)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default modal;","import { combineReducers } from 'redux';\r\nimport { routerReducer } from 'react-router-redux';\r\n\r\nimport user from './user';\r\nimport escapeRooms from './escapeRooms';\r\nimport escapeRoom from './escapeRoom';\r\nimport modal from './modal';\r\n\r\nexport default function(reduxifiedServices){\r\n    return combineReducers({\r\n        usersService: reduxifiedServices.users.reducer,\r\n        escapeRoomsService: reduxifiedServices['escape-rooms'].reducer,\r\n        authManagementService: reduxifiedServices.authmanagement.reducer,\r\n        routing: routerReducer,\r\n        user,\r\n        escapeRooms,\r\n        escapeRoom,\r\n        modal\r\n    })\r\n}\r\n","import React, {Component}  from 'react';\r\nimport { Container, Row, Col, Alert, Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nclass Profile extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            edit: false,\r\n            message: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            color: \"success\"\r\n        };\r\n    }\r\n    //Handles login form submit event\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if(this.props.updateUser)\r\n            this.props.updateUser({email:this.state.email,password:this.state.password});\r\n    }\r\n\r\n    //Changes state on input change\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        });\r\n    }\r\n\r\n    //Handles error dismiss\r\n    handleDismiss = (event) => {\r\n        this.setState({message: \"\"});\r\n    }\r\n\r\n    handleClick = async (event) => {\r\n        event.preventDefault();\r\n        switch (event.target.id) {\r\n            case 'editButton':\r\n                this.setState({edit:true});\r\n                break;\r\n            case 'saveButton':\r\n                let user = this.props.user;\r\n                if(this.state.email===\"\"){\r\n                    this.setState({message:\"Email Required\",color:\"danger\"});\r\n                    return;\r\n                }\r\n                if(this.state.password===\"\"){\r\n                    this.setState({message:\"Your current password is required for authentication\",color:\"danger\"})\r\n                    return;\r\n                }\r\n                if(this.props.identityChange){\r\n                    let result = await this.props.identityChange(user.email, this.state.password, {email:this.state.email});\r\n                    this.setState({message:result.message, color:result.color});\r\n                }\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const user = this.props.user;\r\n        this.setState({\r\n            email: user.email\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(oldProps){\r\n        const newProps = this.props;\r\n        if(oldProps.user.email !== newProps.user.email){\r\n            const user = this.props.user;\r\n            this.setState({\r\n                email: user.email,\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.profile = \r\n            <Container fluid>\r\n                <Row>\r\n                    <Col>\r\n                        <img id=\"ProfileImage\" className=\"img-fluid\" src={this.props.user.avatar} alt=\"Profile\" />\r\n                        <p className=\"text-center\">{this.props.user.email}</p>\r\n                        <Button id=\"editButton\" block className=\"text-center\" onClick={this.handleClick}>Edit Email</Button>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        this.editProfile = \r\n        <Container fluid>\r\n            <Row>\r\n                <Col>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                            <Label for=\"email\">Email</Label>\r\n                            <Input type=\"email\" name=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange}/>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"password\">Confirm Password</Label>\r\n                            <Input type=\"password\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange}/>\r\n                        </FormGroup>\r\n                        <Button id=\"saveButton\" onClick={this.handleClick} block>Save</Button>\r\n                        <Alert isOpen={this.state.message !== \"\"} toggle={this.handleDismiss} color={this.state.color}>{this.state.message}</Alert>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n        if(this.state.edit)\r\n            return this.editProfile;\r\n        else \r\n            return this.profile;\r\n    }\r\n};\r\n\r\nexport default Profile;","import jsPDF from 'jspdf';\r\n\r\nfunction escapeRoomToPDF(escapeRoom){\r\n    let doc = jsPDF('p','mm','a4');\r\n    let x = 35; let y = 25;\r\n    doc.text(\"The Escape Room Generator\",x,y);\r\n    let convertedObject = convertObject(escapeRoom,doc,x,y);\r\n    doc = convertedObject.doc;\r\n    doc.save(escapeRoom.details.name+\".pdf\");\r\n}\r\n\r\nfunction convertObject(object,doc,x,y){\r\n    for(let key of Object.keys(object)){\r\n        if(key.includes('DATA')){\r\n            //Add Images from DATA url\r\n            doc.addPage();\r\n            y=25;\r\n            doc.text(key+\": \",x,y);\r\n            doc.addImage(object[key],'JPEG',x,y);\r\n            y=275;\r\n            continue;\r\n        }else if(y >= 275){\r\n            doc.addPage();\r\n            y=25;\r\n        } else {\r\n            y+=10;\r\n        }\r\n        if(typeof object[key]==='object'&&object[key].constructor===Array){\r\n            if(object[key].length > 0 && typeof object[key][0]===\"string\"){\r\n                doc.text(key+\": \" + JSON.stringify(object[key]),x,y);\r\n            } else if (object[key].length > 0 && typeof object[key][0]===\"object\"){\r\n                doc.text(key,x,y);\r\n                doc.line(x, y, x+120, y);\r\n                for(let childObject of object[key]){\r\n                    doc.line(x, y, x+120, y);\r\n                    let convertedObject = convertObject(childObject,doc,x,y);\r\n                    doc = convertedObject.doc;\r\n                    x = convertedObject.x;\r\n                    y = convertedObject.y;\r\n                }\r\n            }\r\n        }\r\n        else if(typeof object[key]==='object'){\r\n            doc.text(key,x,y);\r\n            doc.line(x, y, x+120, y);\r\n            let convertedObject = convertObject(object[key],doc,x,y);\r\n            doc = convertedObject.doc;\r\n            x = convertedObject.x;\r\n            y = convertedObject.y;\r\n        }\r\n        else{\r\n            doc.text(key+\": \"+object[key],x,y);\r\n        }   \r\n    }\r\n    return {doc,x,y};\r\n}\r\n\r\nexport {escapeRoomToPDF};\r\n","import React, {Component} from 'react';\r\nimport { Container, Row, Col, Dropdown, DropdownToggle, DropdownMenu, DropdownItem , ListGroup, ListGroupItem , Button } from 'reactstrap';\r\nimport { saveAs } from 'file-saver';\r\nimport Modal from '../models/Modal';\r\nimport {escapeRoomToPDF} from '../pdf/pdf';\r\n\r\nclass Dashboard extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            dropdownOpen: [false,false]\r\n        }\r\n    }\r\n    handleToggle = (i) => (e) => {\r\n        var dropdownOpen = this.state.dropdownOpen;\r\n        dropdownOpen[i] = !dropdownOpen[i];\r\n        this.setState({dropdownOpen});\r\n    }\r\n    handleClick = async (e) => {\r\n        if(this.props.newEscapeRoom)\r\n            this.props.newEscapeRoom();\r\n    }\r\n    saveJSON(escapeRoom) {\r\n        const blob = new Blob([JSON.stringify(escapeRoom)],{type:'text/plain;charset=utf-8'});\r\n        saveAs(blob, escapeRoom.details.name+\".json\");\r\n    }\r\n    savePDF(escapeRoom) {\r\n        escapeRoomToPDF(escapeRoom);\r\n    }\r\n    handleItemClick = (i, action) => (e) => {\r\n        const escapeRoom = this.props.escapeRooms[i];\r\n        switch(action){\r\n            case 'EDIT':\r\n                if(this.props.editEscapeRoom)   \r\n                    this.props.editEscapeRoom(escapeRoom);\r\n                break;\r\n            case 'JSON':\r\n                this.saveJSON(escapeRoom);\r\n                break;\r\n            case 'PDF':\r\n                this.savePDF(escapeRoom);\r\n                break;\r\n            case 'DELETE':\r\n                if(this.props.deleteEscapeRoom)\r\n                    this.props.showModal(new Modal(\"Warning\",\"Are you sure you want to delete \"+escapeRoom.details.name+\"?\",\"Yes\",()=>{this.props.deleteEscapeRoom(escapeRoom)},\"No\",()=>{}));\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n    mapEscapeRoomToList = (escapeRoom,i) => {\r\n        return (\r\n        <ListGroupItem key={i}>{escapeRoom.details.name}\r\n            <Dropdown style={{display:'inline', position: 'absolute', right:'20px'}} isOpen={this.state.dropdownOpen[i]} toggle={this.handleToggle(i)}>\r\n                <DropdownToggle caret/>\r\n                <DropdownMenu right>\r\n                    <DropdownItem onClick={this.handleItemClick(i,'EDIT')} disabled={this.props.escapeRooms[i].components[0].version!==undefined?false:true}>Edit</DropdownItem>\r\n                    <DropdownItem onClick={this.handleItemClick(i,'JSON')}>Export as JSON</DropdownItem>\r\n                    <DropdownItem onClick={this.handleItemClick(i,'PDF')}>Export as PDF</DropdownItem>\r\n                    <DropdownItem onClick={this.handleItemClick(i,'DELETE')}>Delete</DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n        </ListGroupItem>)\r\n    };\r\n    render() {\r\n        const escapeRooms = this.props.escapeRooms;\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <Button block onClick={this.handleClick}>NEW</Button>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <ListGroup>\r\n                            {escapeRooms.map(this.mapEscapeRoomToList)}\r\n                        </ListGroup>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Dashboard;","import React, {Component}  from 'react';\r\nimport { Container, Dropdown, DropdownToggle , DropdownMenu , DropdownItem , Row, Col, Nav, NavItem, NavLink, TabContent, TabPane , Button } from 'reactstrap';\r\nimport { Details, Accessibility, Design } from './index';\r\nimport classnames from 'classnames';\r\nimport { saveAs } from 'file-saver';\r\nimport {escapeRoomToPDF} from '../pdf/pdf';\r\nimport EscapeRoom from '../models/EscapeRoom';\r\nimport '../styles/EscapeRoomDesigner.css';\r\n\r\nclass EscapeRoomDesigner extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {activeTab:'design', dropdownOpen: false};\r\n    }\r\n    saveJSON(escapeRoom) {\r\n        const blob = new Blob([JSON.stringify(escapeRoom)],{type:'text/plain;charset=utf-8'});\r\n        saveAs(blob, escapeRoom.details.name+\".json\");\r\n    }\r\n    savePDF(escapeRoom) {\r\n        escapeRoomToPDF(escapeRoom);\r\n    }\r\n    handleClick = (action) => (e) => {\r\n        switch(action){\r\n            case 'EXIT':\r\n                if(this.props.saveEscapeRoom)\r\n                    this.props.saveEscapeRoom(this.props.escapeRoom);\r\n                break;\r\n            case 'JSON':\r\n                if(this.props.saveEscapeRoom)\r\n                    this.props.saveEscapeRoom(this.props.escapeRoom);\r\n                this.saveJSON(this.props.escapeRoom);\r\n                break;\r\n            case 'PDF':\r\n                if(this.props.saveEscapeRoom)\r\n                    this.props.saveEscapeRoom(this.props.escapeRoom);\r\n                this.savePDF(this.props.escapeRoom);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n    handleToggle = (e) => {\r\n        this.setState({dropdownOpen: !this.state.dropdownOpen});\r\n    }\r\n    handleNav = (tab) => (e) => {\r\n        if (this.state.activeTab !== tab) {\r\n            this.setState({\r\n                activeTab: tab\r\n            })\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        const escapeRoom = this.props.escapeRoom;\r\n        if(escapeRoom===undefined){\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps,prevState){\r\n        if(prevState.activeTab!==this.state.activeTab){\r\n            this.toggleSvgs();\r\n        }\r\n    }\r\n    toggleSvgs=()=>{\r\n        let lines = document.querySelectorAll(\"body > div:not(#root)\");\r\n        if(this.state.activeTab!==\"design\"){\r\n            for (let i = 0; i < lines.length;i++){\r\n                lines[i].style.display = 'none';\r\n            }\r\n        } else {\r\n            for (let i = 0; i < lines.length;i++){\r\n                lines[i].style.display = 'block';\r\n            }\r\n        }\r\n    }\r\n    calculateOutput=(id)=>{\r\n        return EscapeRoom.calculateComponentOutput(this.props.escapeRoom,id);\r\n    }\r\n    render() {\r\n        return (\r\n            <Container fluid>\r\n                <Row className=\"save-options\">\r\n                    <Col xs=\"6\" md=\"3\" lg=\"3\"><Button block onClick={this.handleClick('EXIT')}>Save and Exit</Button></Col>\r\n                    <Col xs=\"6\" md=\"3\" lg=\"3\">\r\n                        <Dropdown isOpen={this.state.dropdownOpen} toggle={this.handleToggle}>\r\n                            <DropdownToggle  className=\"full-width\" caret>Save and Export</DropdownToggle>\r\n                            <DropdownMenu right>\r\n                                <DropdownItem onClick={this.handleClick('JSON')}>Export as JSON</DropdownItem>\r\n                                <DropdownItem onClick={this.handleClick('PDF')}>Export as PDF</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                    </Col>\r\n                    <Col xs=\"6\"/>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Nav tabs>\r\n                            <NavItem>\r\n                                <NavLink\r\n                                    className={classnames({active: this.state.activeTab === 'details'})}\r\n                                    onClick={this.handleNav('details')}    \r\n                                >\r\n                                    Details\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink\r\n                                    className={classnames({active: this.state.activeTab === 'accessibility'})}\r\n                                    onClick={this.handleNav('accessibility')}    \r\n                                >\r\n                                    Accessibility\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink\r\n                                    className={classnames({active: this.state.activeTab === 'design'})}\r\n                                    onClick={this.handleNav('design')}    \r\n                                >\r\n                                    Design\r\n                                </NavLink>\r\n                            </NavItem>\r\n                        </Nav>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <TabContent activeTab={this.state.activeTab}>\r\n                            <TabPane tabId=\"details\">\r\n                                <Details details={this.props.escapeRoom.details} updateDetails={this.props.updateDetails}/>\r\n                            </TabPane>\r\n                            <TabPane tabId=\"accessibility\">\r\n                                <Accessibility accessibility={this.props.escapeRoom.accessibility} updateAccessibility={this.props.updateAccessibility}/>\r\n                            </TabPane>\r\n                            <TabPane tabId=\"design\">\r\n                                <Design calculateOutput={this.calculateOutput} components={{components:this.props.escapeRoom.components}} showModal={this.props.showModal} accessibility={this.props.escapeRoom.accessibility} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} updateComponent={this.props.updateComponent} addRelationship={this.props.addRelationship} removeRelationship={this.props.removeRelationship}/>\r\n                            </TabPane>\r\n                        </TabContent>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default EscapeRoomDesigner;","import React, {Component} from 'react';\r\nimport { Container, Row, Col, Form, FormGroup, Label, Input, UncontrolledTooltip} from 'reactstrap';\r\n\r\nclass Details extends Component {\r\n    //Changes state on input change\r\n    handleChange = (event) => { \r\n        var state = {};\r\n        state[event.target.id] = event.target.value;    \r\n        this.props.updateDetails(state);\r\n    }\r\n    render(){\r\n        return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col>\r\n                    <Form>\r\n                        <FormGroup>\r\n                            <Label for=\"name\">Room Name <span id=\"nameTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Room Name\" value={this.props.details.name} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"nameTooltip\">The name of your design</UncontrolledTooltip>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"designers\">Designers <span id=\"designersTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"designers\" id=\"designers\" placeholder=\"Designer(s)\" value={this.props.details.designers} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"designersTooltip\">Names of the designers</UncontrolledTooltip>\r\n                        </FormGroup>                        \r\n                        <FormGroup>\r\n                            <Label for=\"theme\">Theme <span id=\"themeTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"theme\" id=\"theme\" placeholder=\"theme\" value={this.props.details.theme} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"themeTooltip\">The theme of the room: Noir, Medieval, Heist ect.</UncontrolledTooltip>\r\n                        </FormGroup>                        \r\n                        <FormGroup>\r\n                            <Label>Players <span id=\"playersTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"minPlayers\" id=\"minPlayers\" placeholder=\"Min\" value={this.props.details.minPlayers} onChange={this.handleChange}/>\r\n                            <Input type=\"text\" name=\"maxPlayers\" id=\"maxPlayers\" placeholder=\"Max\" value={this.props.details.maxPlayers} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"playersTooltip\">The maximum and minimum amount of players your room is designed for</UncontrolledTooltip>\r\n                        </FormGroup>                        \r\n                        <FormGroup>\r\n                            <Label for=\"targetTime\">Target Time <span id=\"targetTimeTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"targetTime\" id=\"targetTime\" placeholder=\"Time\" value={this.props.details.targetTime} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"targetTimeTooltip\">Can be the time players have to try and escape by, or the estimated time it will take players to complete the room</UncontrolledTooltip>\r\n                        </FormGroup>                        \r\n                        <FormGroup>\r\n                            <Label for=\"difficulty\">Difficulty <span id=\"difficultyTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" id=\"difficulty\" value={this.props.details.difficulty} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"difficultyTooltip\">How difficult the room is rated out of 5. It is up to the designer to gauge difficulty</UncontrolledTooltip>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </Col>\r\n                <Col>\r\n                    <Form>\r\n                        <FormGroup>\r\n                            <Label for=\"objective\">Objective <span id=\"objectiveTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"text\" name=\"objective\" id=\"objective\" placeholder=\"Main Objective\" value={this.props.details.objective} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"objectiveTooltip\">The objective of the room, for example: retrieve the diamond, foil the mad scientists evil plans ect.</UncontrolledTooltip>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <Label for=\"description\">Description <span id=\"descriptionTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <Input type=\"textarea\" name=\"description\" id=\"description\" placeholder=\"Description\" value={this.props.details.description} onChange={this.handleChange}/>\r\n                            <UncontrolledTooltip target=\"descriptionTooltip\">A descriptive paragraph of the room, you can define the overall story here or any extra details that may be needed to set it up</UncontrolledTooltip>\r\n                        </FormGroup>       \r\n                        <FormGroup>\r\n                            <Label for=\"estimatedCost\">Estimated Cost <span id=\"estimatedCostTooltip\"><i className=\"fa fa-question-circle\" aria-hidden=\"true\"></i></span></Label>\r\n                            <p>{this.props.details.estimatedCost}</p>    \r\n                            <UncontrolledTooltip target=\"estimatedCostTooltip\">When you set estimated cost values on components in the design they will be totalled up and the total will be displayed here</UncontrolledTooltip>\r\n                        </FormGroup>             \r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>)\r\n    }\r\n}\r\n\r\nexport default Details;","import React, {Component} from 'react';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { Pallet, ComponentArranger, ComponentDetails } from './index';\r\n\r\nclass Design extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {selected: {}};\r\n    }\r\n    handleComponentClick = (component) => (e) => {\r\n        e.stopPropagation();\r\n        this.setState({selected:component});\r\n    }\r\n    updateComponent = (component) => {\r\n        this.props.updateComponent(component);\r\n        this.setState({selected:{...this.state.selected,...component}});\r\n    }\r\n    findComponent = (id) => {\r\n        return this.props.components.components.find(component=>component._id===id);\r\n    }\r\n    render(){\r\n        return (\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col md=\"2\">\r\n                        <Pallet/>\r\n                    </Col>\r\n                    <Col md=\"8\">\r\n                        <ComponentArranger renderTrigger={JSON.stringify(this.props.components.components)} findComponent={this.findComponent} showModal={this.props.showModal} handleComponentClick={this.handleComponentClick} updateComponent={this.props.updateComponent} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} addRelationship={this.props.addRelationship} components={this.props.components.components}/>            \r\n                    </Col>\r\n                    <Col md=\"2\">\r\n                        <ComponentDetails calculateOutput={this.props.calculateOutput} accessibility={this.props.accessibility} selected={this.state.selected} updateComponent={this.updateComponent}/>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Design;","import React, {Component}  from 'react';\r\nimport { Card, CardBody, UncontrolledTooltip } from 'reactstrap';\r\nimport '../styles/Component.css';\r\nimport { DropTarget } from 'react-dnd';\r\nimport { Puzzle, Event, Music, Lock, Prop } from '../models/index';\r\n\r\nconst Types = {\r\n    COMPONENT: 'COMPONENT'\r\n}\r\n\r\nconst componentTarget = {\r\n    drop(props,monitor,component){\r\n        if (monitor.didDrop()){\r\n            return;\r\n        }\r\n        const item = monitor.getItem();\r\n        const isInput = props.isInput;\r\n        component.handleComponentDrop(item,isInput);\r\n        return {moved:true};\r\n    }\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver(),\r\n        isOverCurrent: monitor.isOver({shallow:true}),\r\n        canDrop: monitor.canDrop(),\r\n        itemType: monitor.getItemType()\r\n    }\r\n}\r\n\r\nclass ComponentDnDTarget extends Component {\r\n    handleComponentDrop(item,isInput=true){\r\n        var component = null;\r\n        if (item.id!==undefined){\r\n            switch(item.id){\r\n                case 'Puzzle':\r\n                    component = new Puzzle();\r\n                    break;\r\n                case 'Lock':\r\n                    component = new Lock();\r\n                    break;\r\n                case 'Event':\r\n                    component = new Event();\r\n                    break;\r\n                case 'Music':\r\n                    component = new Music();\r\n                    break;\r\n                case 'Prop':\r\n                    component = new Prop();\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            this.props.addComponent(component,this.props.component._id);\r\n        }else {\r\n            component = item;\r\n            if(component._id!==this.props.component._id)\r\n                this.props.addRelationship(component._id,this.props.component._id,isInput);\r\n        }\r\n\r\n    }\r\n    render() {\r\n        let id=this.props.component._id;\r\n        var classNames = \"hide-border\";\r\n        if(this.props.isOver && this.props.canDrop){\r\n            classNames+=\" canDrop\";\r\n        } else if(this.props.isOver && !this.props.canDrop){\r\n            classNames+=\" cantDrop\";\r\n        } else if(this.props.canDrop){\r\n            classNames+=\" couldDrop\";\r\n        }\r\n        let tooltip;\r\n        if(this.props.isInput){\r\n            id+=\"-input\"\r\n            classNames+=\" isInput\";\r\n            tooltip = \"Drag another component to this blue square to add it as an input to this component\"\r\n        }\r\n        else {\r\n            id+=\"-output\"\r\n            classNames+=\" isOutput\";\r\n            tooltip = \"Drag another component to this green square to add it as an output of this component\"\r\n        }\r\n        return this.props.connectDropTarget(\r\n            <div key={this.props.component._id} id={id}>\r\n                <Card className={classNames} onClick={this.props.handleComponentClick(this.props.component)}>\r\n                    <CardBody>\r\n\r\n                    </CardBody>\r\n                </Card>\r\n                <UncontrolledTooltip target={id}>{tooltip}</UncontrolledTooltip>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default DropTarget(Types.COMPONENT, componentTarget, collect)(ComponentDnDTarget);","import React, {Component} from 'react';\r\nimport { DragSource } from 'react-dnd';\r\nimport ComponentDnDTarget from './ComponentDnDTarget';\r\nimport { Row, Col } from 'reactstrap'\r\nimport '../styles/Component.css';\r\nimport Modal from '../models/Modal';\r\n\r\n// Drag sources and drop targets only interact\r\n// if they have the same string type.\r\n// You want to keep types in a separate file with\r\n// the rest of your app's constants.\r\nconst Types = {\r\n  COMPONENT: 'COMPONENT'\r\n};\r\n\r\n/**\r\n * Specifies the drag source contract.\r\n * Only `beginDrag` function is required.\r\n */\r\nconst componentSource = {\r\n  canDrag(props) {\r\n    // You can disallow drag based on props\r\n    return true;\r\n  },\r\n\r\n  isDragging(props, monitor) {\r\n    return monitor.getItem().id === props.id;\r\n  },\r\n\r\n  beginDrag(props, monitor, component) {\r\n    // Return the data describing the dragged item\r\n    var item = {...props.component};\r\n    return item;\r\n  },\r\n\r\n  endDrag(props, monitor, component) {\r\n    if (!monitor.didDrop()) {\r\n      if((props.component!==undefined||props.component!==null)&&props.showModal)\r\n        props.showModal(new Modal(\"Warning\", \"Are you sure you want to delete this component?\",\"Yes\",component.removeComponent,\"No\",()=>{}));\r\n        return;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Specifies which props to inject into your component.\r\n */\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDragSource: connect.dragSource(),\r\n    // You can ask the monitor about the current drag state:\r\n    isDragging: monitor.isDragging()\r\n  };\r\n}\r\n\r\nclass ComponentDnDSource extends Component{\r\n  removeComponent = ()=>{\r\n    this.props.removeComponent(this.props.component._id);\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.renderTrigger!==prevProps.renderTrigger)\r\n      this.forceUpdate();\r\n  }\r\n  findComponent(component){\r\n    if(this.props.findComponent!==undefined){\r\n      return this.props.findComponent(component);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  update = () => this.forceUpdate()\r\n  componentDidMount() {\r\n    window.addEventListener('click', this.update, true);\r\n    window.addEventListener('scroll', this.update, true);\r\n    window.addEventListener('resize', this.update);\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    window.removeEventListener('click', this.update);\r\n    window.removeEventListener('scroll', this.update);\r\n    window.removeEventListener('resize', this.update)\r\n  }\r\n  render() {\r\n      var target;\r\n      if (this.props.isTarget){\r\n        target = (\r\n            <Row>\r\n                <Col xs=\"6\"><ComponentDnDTarget isInput={true} component={this.props.component} handleComponentClick={this.props.handleComponentClick} showModal={this.props.showModal} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} addRelationship={this.props.addRelationship}/></Col>\r\n                <Col xs=\"6\"><ComponentDnDTarget isInput={false} component={this.props.component} handleComponentClick={this.props.handleComponentClick} showModal={this.props.showModal} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} addRelationship={this.props.addRelationship}/></Col>\r\n            </Row>\r\n        );\r\n      }\r\n      var style = {};\r\n      let classNames = \"component container-fluid\";\r\n      if(this.props.component!==undefined){\r\n        style.top = this.props.component.position.top;\r\n        style.left = this.props.component.position.left;\r\n        classNames += \" \" + this.props.component.type + \" \" + this.props.component._id;\r\n      } \r\n      return this.props.connectDragSource(\r\n          <div className={classNames} id={this.props.component._id} style={style} onClick={this.props.handleComponentClick(this.props.component)}>\r\n            <Row>\r\n              <Col>\r\n                <p>{this.props.component.type}</p>\r\n                <p>{this.props.component._id}</p>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n              <p>{this.props.component.name}</p>\r\n              </Col>\r\n            </Row>\r\n            {target}\r\n          </div>\r\n      )\r\n  }\r\n};\r\n\r\nexport default DragSource(Types.COMPONENT, componentSource, collect)(ComponentDnDSource);","import React, {Component}  from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Card, CardBody ,CardTitle } from 'reactstrap';\r\nimport '../styles/Component.css';\r\nimport { DropTarget } from 'react-dnd';\r\nimport ComponentDnDSource from './ComponentDnDSource';\r\nimport { Puzzle, Prop, Lock, Music, Event } from '../models/index.js';\r\n\r\nconst Types = {\r\n    COMPONENT: 'COMPONENT'\r\n}\r\n\r\nconst componentTarget = {\r\n    drop(props,monitor,component){\r\n        if (monitor.didDrop() || !component || typeof props.component===undefined){\r\n            return;\r\n        }\r\n        const item = monitor.getItem();\r\n        let clientOffset = monitor.getClientOffset();\r\n        let targetRect = ReactDOM.findDOMNode(component).getBoundingClientRect();\r\n        item.position = {top:(((clientOffset.y-targetRect.y)/targetRect.height)*100)+\"%\",left:(((clientOffset.x-targetRect.x)/targetRect.width)*100)+\"%\"};\r\n        component.handleComponentDrop(item);\r\n        return {moved:true};\r\n    }\r\n}\r\n\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        connectDropTarget: connect.dropTarget(),\r\n        isOver: monitor.isOver(),\r\n        isOverCurrent: monitor.isOver(),\r\n        canDrop: monitor.canDrop(),\r\n        itemType: monitor.getItemType()\r\n    }\r\n}\r\n\r\nclass AreaDnDTarget extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={render:true,screenWidth:0,screenHeight:0};\r\n    }\r\n    updateScreenSize=()=>{\r\n        this.setState({screenWidth:window.innerHeight,screenHeight:window.innerHeight})\r\n    }\r\n    handleComponentDrop(item,isInput=false){\r\n        var component = null;\r\n        if (item.id!==undefined && item._id === undefined){\r\n            switch(item.id){\r\n                case 'Puzzle':\r\n                    component = new Puzzle();\r\n                    component.position = item.position;\r\n                    break;\r\n                case 'Prop':\r\n                    component = new Prop();\r\n                    component.position = item.position;\r\n                    break;\r\n                case 'Lock':\r\n                    component = new Lock();\r\n                    component.position = item.position;\r\n                    break;\r\n                case 'Event':\r\n                    component = new Event();\r\n                    component.position = item.position;\r\n                    break;\r\n                case 'Music':\r\n                    component = new Music();\r\n                    component.position = item.position;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            this.props.addComponent(component,this.props.component._id);\r\n        } else {\r\n            component = item;\r\n            this.props.updateComponent(component,this.props.component._id);\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.updateScreenSize();\r\n        window.addEventListener('resize', this.updateScreenSize);\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('resize',this.updateScreenSize);\r\n    }\r\n    render() {\r\n        var classNames = \"Area\";\r\n        if(this.props.isOver && this.props.canDrop){\r\n            classNames+=\" canDrop\";\r\n        } else if(this.props.isOver && !this.props.canDrop){\r\n            classNames+=\" cantDrop\";\r\n        } else if(this.props.canDrop){\r\n            classNames+=\" couldDrop\"\r\n        }\r\n        let title = this.props.component.type + \" (\" + this.props.component._id + \") \" + this.props.component.name;\r\n        return this.props.connectDropTarget(\r\n            <div className={this.props.component.type} key={this.props.component._id}>                \r\n                <Card className={classNames} onClick={this.props.handleComponentClick(this.props.component)}>\r\n                    <CardBody>\r\n                        <CardTitle>{title}</CardTitle>  \r\n                            {this.props.outputComponents.map((component,i)=>{\r\n                                component = this.props.findComponent(component._id);\r\n                                return(<ComponentDnDSource key={component._id} update={this.update} isTarget handleComponentClick={this.props.handleComponentClick}  component={component} findComponent={this.props.findComponent} id={component.type} showModal={this.props.showModal} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} addRelationship={this.props.addRelationship}/>)\r\n                            })}\r\n                    </CardBody>\r\n                </Card>   \r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default DropTarget(Types.COMPONENT, componentTarget, collect)(AreaDnDTarget);","import React, {Component} from 'react';\r\nimport { DragSource } from 'react-dnd';\r\nimport AreaDnDTarget from './AreaDnDTarget';\r\nimport '../styles/Component.css';\r\nimport { Card, UncontrolledTooltip } from 'reactstrap';\r\nimport Modal from '../models/Modal';\r\n\r\n// Drag sources and drop targets only interact\r\n// if they have the same string type.\r\n// You want to keep types in a separate file with\r\n// the rest of your app's constants.\r\nconst Types = {\r\n  AREA: 'AREA'\r\n};\r\n\r\n/**\r\n * Specifies the drag source contract.\r\n * Only `beginDrag` function is required.\r\n */\r\nconst areaSource = {\r\n  canDrag(props) {\r\n    // You can disallow drag based on props\r\n    return true;\r\n  },\r\n\r\n  isDragging(props, monitor) {\r\n    // If your component gets unmounted while dragged\r\n    // (like a card in Kanban board dragged between lists)\r\n    // you can implement something like this to keep its\r\n    // appearance dragged:\r\n    return monitor.getItem().id === props.id;\r\n  },\r\n\r\n  beginDrag(props, monitor, component) {\r\n    // Return the data describing the dragged item\r\n    var item = null;\r\n    if (props.id!==undefined){\r\n       item = { id: props.id };\r\n    } else {\r\n       item = { component: props.component };\r\n    }\r\n    return item;\r\n  },\r\n\r\n  endDrag(props, monitor, component) {\r\n    if (!monitor.didDrop() && component!=null) {\r\n      props.showModal(new Modal(\"Warning\", \"Are you sure you want to delete this component?\",\"Yes\",component.removeComponent,\"No\",()=>{}));\r\n      return;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Specifies which props to inject into your component.\r\n */\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDragSource: connect.dragSource(),\r\n    // You can ask the monitor about the current drag state:\r\n    isDragging: monitor.isDragging()\r\n  };\r\n}\r\n\r\nclass AreaDnDSource extends Component{\r\n  constructor(){\r\n    super();\r\n    this.state={render:true};\r\n  }\r\n  removeComponent = ()=>{\r\n    this.props.removeComponent(this.props.component._id);\r\n  }\r\n  addComponent = (component,parentId)=>{\r\n    this.props.addComponent(component,this.props.component._id);\r\n    this.props.addRelationship(component._id,parentId);\r\n  }  \r\n  componentDidUpdate(prevProps){\r\n    if(this.props.renderTrigger!==prevProps.renderTrigger)\r\n      this.forceUpdate();\r\n  }\r\n  render() {\r\n    let id = this.props.id;\r\n    let iconId = id+\"-icon\";\r\n    let target;\r\n    if (this.props.isTarget){\r\n      target = (\r\n        <AreaDnDTarget renderTrigger={JSON.stringify(this.props.component)} addRef={this.props.addRef} findComponent={this.props.findComponent} handleComponentClick={this.props.handleComponentClick} outputComponents={this.props.outputComponents} component={this.props.component} showModal={this.props.showModal} addComponent={this.addComponent} updateComponent={this.props.updateComponent} removeComponent={this.props.removeComponent} addRelationship={this.props.addRelationship}/>\r\n      );\r\n    }\r\n    let classNames;\r\n    if(this.props.palletItem)\r\n      classNames += \" pallet-item\";\r\n    return this.props.connectDragSource(\r\n        <div onClick={this.props.handleComponentClick(this.props.component)}>\r\n          <Card className={classNames}>\r\n            <div className={id===undefined?\"d-none\":\"\"}>\r\n              <p style={{\"fontWeight\":\"bold\"}}>{id}<span id={iconId} className=\"pallet-item-icon\"><i className=\"fa fa-question-circle text-right\" aria-hidden=\"true\"></i></span></p>     \r\n              <UncontrolledTooltip target={iconId}>Represents a collection of components. Can be used to represent physical areas such as two seperate rooms or logical areas</UncontrolledTooltip>\r\n            </div>\r\n            {target}\r\n          </Card>\r\n        </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default DragSource(Types.AREA, areaSource, collect)(AreaDnDSource);","import React, {Component} from 'react';\r\nimport { UncontrolledTooltip } from 'reactstrap';\r\nimport { DragSource } from 'react-dnd';\r\nimport '../styles/Component.css';\r\n\r\nconst descriptions = {\r\n  Puzzle:\"Represents a puzzle, or any type of component that accepts and combines inputs\",\r\n  Prop:\"Can represent any prop in the escape room such as a key, ornament, book, poster ect. It is up to the designer what constitutes a prop\",\r\n  Lock:\"Represents a lock, supports multiple types\",\r\n  Event:\"Represents an event in the escape room such as a new room being unlocked\",\r\n  Music:\"Represents music played in the room can be linked together to create a playlist\"\r\n}\r\n\r\n// Drag sources and drop targets only interact\r\n// if they have the same string type.\r\n// You want to keep types in a separate file with\r\n// the rest of your app's constants.\r\nconst Types = {\r\n  COMPONENT: 'COMPONENT'\r\n};\r\n\r\n/**\r\n * Specifies the drag source contract.\r\n * Only `beginDrag` function is required.\r\n */\r\nconst componentSource = {\r\n  beginDrag(props, monitor, component) {\r\n    // Return the data describing the dragged item\r\n    var item = {id: props.id}\r\n    return item;\r\n  }\r\n};\r\n\r\n/**\r\n * Specifies which props to inject into your component.\r\n */\r\nfunction collect(connect, monitor) {\r\n  return {\r\n    // Call this function inside render()\r\n    // to let React DnD handle the drag events:\r\n    connectDragSource: connect.dragSource(),\r\n    // You can ask the monitor about the current drag state:\r\n    isDragging: monitor.isDragging()\r\n  };\r\n}\r\n\r\nclass PalletItem extends Component{\r\n  render() {\r\n      let id=this.props.id || \"\";\r\n      let iconId = this.props.id + \"-icon\";\r\n      let classNames = id + \" component pallet-item\"\r\n      return this.props.connectDragSource(\r\n          <div className={classNames} id={id} >\r\n            <p>{id}<span id={iconId} className=\"pallet-item-icon\"><i className=\"fa fa-question-circle text-right\" aria-hidden=\"true\"></i></span></p>     \r\n            <UncontrolledTooltip target={iconId}>{descriptions[id]}</UncontrolledTooltip>\r\n          </div>\r\n      )\r\n  }\r\n};\r\n\r\nexport default DragSource(Types.COMPONENT, componentSource, collect)(PalletItem);","import React, {Component}  from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport AreaDnD from './AreaDnDSource';\r\nimport PalletItem from './PalletItem';\r\nimport '../styles/Pallet.css';\r\n\r\nclass Pallet extends Component {\r\n    handleComponentClick = (e) => {\r\n        \r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid pallet\">\r\n                <Row>\r\n                    <Col className=\"col text-center\">\r\n                        <h3>Pallet</h3>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <AreaDnD palletItem={true} id=\"Area\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <PalletItem id=\"Puzzle\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <PalletItem id=\"Prop\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <PalletItem id=\"Lock\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <PalletItem id=\"Event\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                    <Col xs=\"6\" md=\"12\" lg=\"12\">\r\n                        <PalletItem id=\"Music\" handleComponentClick={this.handleComponentClick}/>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Pallet;","import React, {Component}  from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport '../styles/Component.css';\r\nimport '../styles/ComponentArranger.css';\r\nimport Area from './AreaDnDSource';\r\nimport AreaModel from '../models/Area';\r\nimport { DropTarget } from 'react-dnd';\r\nimport LineTo from 'react-lineto';\r\n\r\nconst Types = {\r\n    AREA: 'AREA'\r\n}\r\n\r\nconst areaArrangerTarget = {\r\n    drop(props, monitor, component){\r\n        const item = monitor.getItem();\r\n        if(item.component===undefined || item.component===null){\r\n            component.props.addComponent(new AreaModel());\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Specifies which props to inject into your component.\r\n */\r\nfunction collect(connect, monitor) {\r\n    return {\r\n      // Call this function inside render()\r\n      // to let React DnD handle the drag events:\r\n      connectDropTarget: connect.dropTarget(),\r\n      // You can ask the monitor about the current drag state:\r\n      isOver: monitor.isOver(),\r\n      isOverCurrent: monitor.isOver({ shallow: true }),\r\n      canDrop: monitor.canDrop(),\r\n      itemType: monitor.getItemType()\r\n    };\r\n  }\r\n\r\nclass ComponentArranger extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {lines:[]}\r\n    }\r\n    mapAreas = (area,i)=>{\r\n        if(area.type==='Area'){\r\n            let outputComponents = this.props.components.filter((component)=>{\r\n                return area.outputComponents.includes(component._id);\r\n            });\r\n            return (\r\n                <Row key={area._id}>\r\n                    <Col xs=\"12\"> \r\n                        <Area renderTrigger={JSON.stringify(area)} addRef={this.addRef} isTarget findComponent={this.props.findComponent} handleComponentClick={this.props.handleComponentClick} component={area} outputComponents={outputComponents} showModal={this.props.showModal} addComponent={this.props.addComponent} removeComponent={this.props.removeComponent} updateComponent={this.props.updateComponent} addRelationship={this.props.addRelationship}/>\r\n                    </Col>\r\n                </Row>\r\n            )  \r\n        }\r\n    }\r\n    addRef = (ref)=>{\r\n        if(ref!==undefined){\r\n            this.setState({refs:[...this.state.refs,ref]});\r\n        }\r\n    }\r\n    componentDidUpdate(props,state) {\r\n        if(JSON.stringify(this.props.components)!==JSON.stringify(props.components)){\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n    update = () => this.forceUpdate()\r\n    componentDidMount() {\r\n        setTimeout(()=>{\r\n            this.forceUpdate();\r\n        },100)\r\n        window.addEventListener('scroll', this.update, true);\r\n        window.addEventListener('resize', this.update);\r\n    }\r\n      \r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.update);\r\n        window.removeEventListener('resize', this.update);\r\n    }\r\n\r\n    render() {\r\n        var classNames = \"row component-arranger\";\r\n        if(this.props.isOver && this.props.canDrop){\r\n            classNames+=\" canDrop\"\r\n        } else if (this.props.isOver){\r\n            classNames+=\" cantDrop\"\r\n        }\r\n        let lines = [];\r\n        for(let component of this.props.components){\r\n            if(component!==undefined && component.inputComponents!==undefined && component.type!==\"Area\"){\r\n                let inputComponents = component.inputComponents;\r\n                let outputComponents = component.outputComponents;\r\n                for(let inputComponent of inputComponents){\r\n                    inputComponent = this.props.findComponent(inputComponent);\r\n                    lines.push(<LineTo key={component._id+inputComponent._id+'input'} from={component._id} to={inputComponent._id} borderColor={\"#007bff\"}/>);\r\n                };\r\n                for(let outputComponent of outputComponents){\r\n                    outputComponent = this.props.findComponent(outputComponent);\r\n                    lines.push(<LineTo key={component._id+outputComponent._id+'output'} from={component._id} to={outputComponent._id} borderColor={\"#28a745\"}/>)\r\n                };\r\n            }\r\n        };\r\n        return this.props.connectDropTarget(\r\n            <div className={classNames}>\r\n                {lines}\r\n                    <Col xs=\"12\">\r\n                        <Row>\r\n                            <Col className=\"col text-center\">\r\n                                <h3>Components</h3>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                {this.props.components.map(this.mapAreas)}\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default DropTarget(Types.AREA, areaArrangerTarget,collect)(ComponentArranger);","import React, {Component}  from 'react';\r\nimport { Container, Row, Col, Input, Label, UncontrolledTooltip, ListGroupItem, Button, ListGroup } from 'reactstrap';\r\nimport {LockGenerator,PuzzleGenerator} from './index';\r\nimport '../styles/ComponentDetails.css';\r\n\r\nclass ComponentDetails extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={visualWarning:false,physicalWarning:false}\r\n    }\r\n    toggle = (event)=>{\r\n        this.setState({[event.target.id]:!this.state[event.target.id]});\r\n    }\r\n    convertCamelCase(string){\r\n        if(typeof string !== 'string')\r\n            string = string.toString();\r\n        return string.replace(/([A-Z])/g, ' $1').replace(/^./,(str)=>{ return str.toUpperCase(); })\r\n    }\r\n    //Changes state on input change\r\n    handleChange = (event) => { \r\n        let state = {};\r\n        state[event.target.id] = event.target.value;  \r\n        if(event.target.id===\"puzzleType\")\r\n            state.puzzle = {}\r\n        if(event.target.id===\"lockType\")\r\n            state.output = \"\"\r\n        state._id = this.props.selected._id;  \r\n        this.props.updateComponent(state);\r\n    }\r\n    handleOutputChange = (output)=>{\r\n        this.props.updateComponent({output});\r\n    }\r\n    handlePuzzleChange = (puzzle)=>{\r\n        if(puzzle.output===undefined){\r\n            puzzle.output = \"\";\r\n        } \r\n        this.props.updateComponent({_id:this.props.selected._id,puzzle,output:puzzle.output});\r\n        this.forceUpdate();\r\n    }\r\n    generateFromInputs=()=>{\r\n        this.props.updateComponent({_id:this.props.selected._id,output:this.props.calculateOutput(this.props.selected._id)})\r\n    }\r\n    mapDetailToInput = (key,i) => {\r\n        if(key==='output') {\r\n            let generator;\r\n            if(this.props.selected.type==='Lock')\r\n                generator = <LockGenerator lockType={this.props.selected.lockType} handleOutputChange={this.handleOutputChange}></LockGenerator>\r\n            else if(this.props.selected.type==='Puzzle') {\r\n                generator = <PuzzleGenerator puzzleType={this.props.selected.puzzleType} handlePuzzleChange={this.handlePuzzleChange}></PuzzleGenerator>\r\n            }\r\n            return (<Row key={i}>\r\n                <Col>\r\n                    <Label for={key}>{this.convertCamelCase(key)}</Label>\r\n                    <Input type=\"text\" name={key} id={key} placeholder={this.convertCamelCase(key)} value={this.props.selected[key]} onChange={this.handleChange}/>\r\n                    <Button block color=\"primary\" onClick={this.generateFromInputs}>Generate From Inputs</Button>\r\n                    <br/>\r\n                    {generator}\r\n                    <br/>\r\n                </Col>\r\n            </Row>)\r\n        } else if (key==='lockType'){\r\n            return (\r\n                <Row key={i}>\r\n                    <Col>\r\n                        <Label for={key}>{this.convertCamelCase(key)}</Label>\r\n                        <Input type=\"select\" name={key} id={key} placeholder={this.convertCamelCase(key)} value={this.props.selected[key]} onChange={this.handleChange}>\r\n                            <option>Numeric</option>\r\n                            <option>Word</option>\r\n                            <option>Directional</option>\r\n                            <option>Contactless</option>\r\n                            <option>Key</option>\r\n                        </Input>\r\n                    </Col>\r\n                </Row>\r\n            )\r\n        } else if (key==='eventType'){\r\n            return (\r\n                <Row key={i}>\r\n                    <Col>\r\n                        <Label for={key}>{this.convertCamelCase(key)}</Label>\r\n                        <Input type=\"select\" name={key} id={key} placeholder={this.convertCamelCase(key)} value={this.props.selected[key]} onChange={this.handleChange}>\r\n                            <option>Sound Effect</option>\r\n                            <option>New Area</option>\r\n                            <option>Objective Complete</option>\r\n                            <option>Custom</option>\r\n                        </Input>\r\n                    </Col>\r\n                </Row>\r\n            )\r\n        } else if (key==='puzzleType'){\r\n            return (\r\n                <Row key={i}>\r\n                    <Col>\r\n                        <Label for={key}>{this.convertCamelCase(key)}</Label>\r\n                        <Input type=\"select\" name={key} id={key} placeholder={this.convertCamelCase(key)} value={this.props.selected[key]} onChange={this.handleChange}>\r\n                            <option>Cipher</option>\r\n                            <option>Word</option>\r\n                            <option>Colour</option>\r\n                            <option>Hidden Word</option>\r\n                            <option>Hidden Object</option>\r\n                            <option>Riddle</option>\r\n                            <option>Custom</option>\r\n                        </Input>\r\n                    </Col>\r\n                </Row>\r\n            )\r\n        } else if (key==='puzzle'){\r\n            let component = this.props.selected;\r\n            let details = Object.keys(component[key]).map((property,index,array)=>{\r\n                let detail;\r\n                if(property.includes('DATA')){\r\n                    detail = \"Export as PDF to View\";\r\n                }else if(typeof component[key][property] === 'object')\r\n                    detail = JSON.stringify(component[key][property]);\r\n                else{\r\n                    detail = component[key][property];\r\n                } \r\n                return(\r\n                <Row key={property} id={key}>\r\n                    <Col>\r\n                        <p>{\" \" + this.convertCamelCase(property) + \": \"+this.convertCamelCase(detail)}</p>\r\n                    </Col>\r\n                </Row>\r\n                )\r\n            });\r\n            if(Object.keys(component[key]).length>0){\r\n                return (\r\n                    <Row key={i}>\r\n                        <Col>\r\n                            <Label>{this.convertCamelCase(key)}</Label>\r\n                            {details}\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            }else{\r\n                return null;\r\n            } \r\n        }else if(typeof this.props.selected[key] === \"string\" && key!==\"_id\" && key!==\"type\" && key!==\"version\"){\r\n            return (\r\n                <Row key={i}>\r\n                    <Col>\r\n                        <Label for={key}>{this.convertCamelCase(key)}</Label>\r\n                        <Input type=\"text\" name={key} id={key} placeholder={this.convertCamelCase(key)} value={this.props.selected[key]} onChange={this.handleChange}/>\r\n                    </Col>\r\n                </Row>)\r\n        }\r\n    };\r\n    mapKeysToRow = (property,index,array)=>{\r\n        \r\n    }\r\n    handleOnClick = (id,isInput)=> (e) => {\r\n        let component = {...this.props.selected};\r\n        let state = {};\r\n        state._id = component._id;\r\n        if(isInput){\r\n            state.inputComponents = component.inputComponents.filter(oldId => oldId!==id);\r\n        } else {\r\n            state.outputComponents = component.outputComponents.filter(oldId => oldId!==id);\r\n        }\r\n        this.props.updateComponent(state);\r\n    }\r\n    mapIDToP = (id,i,isInput) => {\r\n        return (\r\n            <ListGroupItem key={i}>\r\n                {id}\r\n                <Button onClick={this.handleOnClick(id,isInput)} color=\"danger\" style={{display:'inline', position: 'absolute', right:'2px', top:'0.3rem'}}>\r\n                    X\r\n                </Button>\r\n            </ListGroupItem>\r\n        )\r\n    }\r\n    \r\n    render() {\r\n        let component = this.props.selected;\r\n        let id=\"\";\r\n        let type=\"\";\r\n        let properties;\r\n        let inputs;\r\n        let outputs;\r\n        let inputRelationships;\r\n        let outputRelationships;\r\n        let visualWarning;\r\n        let physicalWarning;\r\n        if(component!==undefined || component!==null){\r\n            if(component._id!==undefined)\r\n                id = \" (\"+component._id+\")\";\r\n            else \r\n                id=\"\";\r\n            properties = Object.keys(component).map(this.mapDetailToInput)\r\n            type = component.type||\"\";\r\n            if(component.type!=='Area'&&component.inputComponents!==undefined&&component.outputComponents!==undefined&&(component.inputComponents.length>0||component.outputComponents.length>0)){\r\n                inputs = component.inputComponents.map((id,i)=>this.mapIDToP(id,i,true));\r\n                outputs = component.outputComponents.map((id,i)=>this.mapIDToP(id,i,false));\r\n                inputRelationships = (\r\n                    <Row>\r\n                        <Col>\r\n                            <h4>Inputs</h4>\r\n                            <ListGroup>\r\n                                {inputs}\r\n                            </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n                );\r\n                outputRelationships = (\r\n                    <Row>\r\n                        <Col>\r\n                            <h4>Outputs</h4>\r\n                            <ListGroup>\r\n                                {outputs}\r\n                            </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n                );\r\n            }\r\n            //Accessibility\r\n            let visualKeys = [];\r\n            Object.keys(this.props.accessibility.visual).forEach((key)=>{\r\n                if(this.props.accessibility.visual[key]===true)\r\n                    visualKeys.push(key);\r\n            });\r\n            if(visualKeys.length>0)\r\n                visualWarning = (                \r\n                <Col className=\"col text-center\">\r\n                    <p id=\"visualWarning\"><i className=\"fa fa-wheelchair text-success\"  aria-hidden=\"true\"></i></p>  \r\n                    <UncontrolledTooltip id=\"visual\" target=\"visualWarning\">\r\n                    You selected: {visualKeys.join(',')} be careful with colour choices\r\n                    </UncontrolledTooltip>\r\n                </Col>\r\n                )\r\n            let physicalKeys = [];\r\n            Object.keys(this.props.accessibility.physical).forEach((key)=>{\r\n                if(this.props.accessibility.physical[key]===true)\r\n                    physicalKeys.push(key);\r\n            });\r\n            if(physicalKeys.length>0)\r\n                physicalWarning = (\r\n                <Col className=\"col text-center\">\r\n                    <p id=\"physicalWarning\"><i class=\"fa fa-wheelchair text-primary\" id=\"physicalWarning\" aria-hidden=\"true\"></i></p>\r\n                    <UncontrolledTooltip id=\"physical\" target=\"physicalWarning\">\r\n                    You selected: {physicalKeys.join(',')} ensure plenty of room around puzzles and check how difficult puzzle is to handle\r\n                    </UncontrolledTooltip>\r\n                </Col>\r\n                )\r\n        }\r\n        return (\r\n            <Container fluid className=\"container-fluid component-details\">\r\n                <Row>\r\n                    <Col className=\"col text-center\">\r\n                        <h3>Details</h3>\r\n                        <h4>{type + id}</h4>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {visualWarning}\r\n                    {physicalWarning}\r\n                </Row>\r\n                {properties}\r\n                {inputRelationships}\r\n                {outputRelationships}\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default ComponentDetails;","import React, {Component} from 'react';\r\nimport { Container, Row, Col, Card, CustomInput, UncontrolledTooltip } from 'reactstrap';\r\nimport '../styles/Accessibility.css';\r\n\r\nclass Accessibility extends Component {\r\n    handleVisualChange = (event) => {\r\n        var state = {...this.props.accessibility};\r\n        state.visual[event.target.id] = event.target.value===true?false:true;\r\n        this.props.updateAccessibility(state);\r\n    }\r\n    //Changes state on input change\r\n    handlePhysicalChange = (event) => {\r\n        var state = {...this.props.accessibility};\r\n        state.physical[event.target.id] = event.target.value===true?false:true;\r\n        this.props.updateAccessibility(state);\r\n    }\r\n    render(){\r\n        return (\r\n            <Container fluid className=\"accessibility\">\r\n                <Row>\r\n                    <Col>\r\n                        <Row>\r\n                            <Col>\r\n                                <h1 className=\"text-center text-success\">Visual Accessibility</h1>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <h2>Colour Blindness</h2>\r\n                                <p>\r\n                                    Please select the types of colour blindness your design must take into account\r\n                                </p>\r\n                            </Col>\r\n                            <Col>\r\n                                <h2>Other</h2>\r\n                                <p>\r\n                                    These are options to indicate restrictions on the design related to visual impairments such as blindness \r\n                                </p>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <Card>\r\n                                    <h6 className=\"text-success\">Red-Green Colour Blindness</h6>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"protanomaly\" id=\"protanomaly\" label=\"Protanomaly\" value={this.props.accessibility.visual.protanomaly} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"protanomalyTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"protanomalyTooltip\">Protanomaly: In males with protanomaly, the red cone photopigment is abnormal. Red, orange, and yellow appear greener and colors are not as bright. This condition is mild and doesnt usually interfere with daily living. Protanomaly is an X-linked disorder estimated to affect 1 percent of males.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"protanopia\" id=\"protanopia\" label=\"Protanopia\" value={this.props.accessibility.visual.protanopia} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"protanopiaTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"protanopiaTooltip\">Protanopia: In males with protanopia, there are no working red cone cells. Red appears as black. Certain shades of orange, yellow, and green all appear as yellow. Protanopia is an X-linked disorder that is estimated to affect 1 percent of males.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"deuteranomaly\" id=\"deuteranomaly\" label=\"Deuteranomaly\" value={this.props.accessibility.visual.deuteranomaly} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"deuteranomalyTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"deuteranomalyTooltip\">Deuteranomaly: In males with deuteranomaly, the green cone photopigment is abnormal. Yellow and green appear redder and it is difficult to tell violet from blue. This condition is mild and doesnt interfere with daily living. Deuteranomaly is the most common form of color blindness and is an X-linked disorder affecting 5 percent of males.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"deuteranopia\" id=\"deuteranopia\" label=\"Deuteranopia\" value={this.props.accessibility.visual.deuteranopia} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"deuteranopiaTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"deuteranopiaTooltip\">Deuteranopia: In males with deuteranopia, there are no working green cone cells. They tend to see reds as brownish-yellow and greens as beige. Deuteranopia is an X-linked disorder that affects about 1 percent of males.</UncontrolledTooltip>\r\n                                    </Row>\r\n\r\n                                    <h6 className=\"text-success\">Blue-Yellow Colour Blindness</h6>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"tritanomaly\" id=\"tritanomaly\" label=\"Tritanomaly\" value={this.props.accessibility.visual.tritanomaly} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"tritanomalyTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"tritanomalyTooltip\">Tritanomaly: People with tritanomaly have functionally limited blue cone cells. Blue appears greener and it can be difficult to tell yellow and red from pink. Tritanomaly is extremely rare. It is an autosomal dominant disorder affecting males and females equally.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"tritanopia\" id=\"tritanopia\" label=\"Tritanopia\" value={this.props.accessibility.visual.tritanopia} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"tritanopiaTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"tritanopiaTooltip\">Tritanopia: People with tritanopia, also known as blue-yellow color blindness, lack blue cone cells. Blue appears green and yellow appears violet or light grey. Tritanopia is an extremely rare autosomal recessive disorder affecting males and females equally.</UncontrolledTooltip>\r\n                                    </Row>\r\n            \r\n                                    <h6 className=\"text-success\">Complete Colour Blindness</h6>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"coneMonochromacy\" id=\"coneMonochromacy\" label=\"Cone Monochromacy\" value={this.props.accessibility.visual.coneMonochromacy} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"coneMonochromacyTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"coneMonochromacyTooltip\">Cone Monochromacy: This rare form of color blindness results from a failure of two of the three cone cell photopigments to work. There is red cone monochromacy, green cone monochromacy, and blue cone monochromacy. People with cone monochromacy have trouble distinguishing colors because the brain needs to compare the signals from different types of cones in order to see color. When only one type of cone works, this comparison isnt possible. People with blue cone monochromacy, may also have reduced visual acuity, near-sightedness, and uncontrollable eye movements, a condition known as nystagmus. Cone monochromacy is an autosomal recessive disorder.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"rodMonochromacy\" id=\"rodMonochromacy\" label=\"Rod Monochromacy\" value={this.props.accessibility.visual.rodMonochromacy} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"rodMonochromacyTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"rodMonochromacyTooltip\">Rod Monochromacy: This type of monochromacy is rare and is the most severe form of color blindness. It is present at birth. None of the cone cells have functional photopigments. Lacking all cone vision, people with rod monochromacy see the world in black, white, and gray. And since rods respond to dim light, people with rod monochromacy tend to be photophobic  very uncomfortable in bright environments. They also experience nystagmus. Rod monochromacy is an autosomal recessive disorder.</UncontrolledTooltip>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col>\r\n                                <Card>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"largeFonts\" id=\"largeFonts\" label=\"Large Fonts\" value={this.props.accessibility.visual.largeFonts} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"largeFontsTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"largeFontsTooltip\">If your design requires larger fonts as you are expecting players with issues with short sightedness, this is a suitable option to select</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"highContrast\" id=\"highContrast\" label=\"High Contrast\" value={this.props.accessibility.visual.highContrast} onChange={this.handleVisualChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"highContrastTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"highContrastTooltip\">If your design requires a contrasting colour scheme to be used to make text more readable, select this option</UncontrolledTooltip>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col>\r\n                        <Row>\r\n                            <Col>\r\n                                <h1 className=\"text-center text-primary\">Physical Accessibility</h1>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <p>\r\n                                    These options are to indicate restrictions on the design related to physical impairments for example wheelchair accessibility and motor functions\r\n                                </p>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <Card>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"> <CustomInput type=\"checkbox\" name=\"wheelchairAccessible\" id=\"wheelchairAccessible\" label=\"Wheelchair Accessible\" value={this.props.accessibility.physical.wheelchairAccessible} onChange={this.handlePhysicalChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"wheelchairAccessibleTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"wheelchairAccessibleTooltip\">If your design is required to be wheelchair accessible select this option</UncontrolledTooltip>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col xs=\"8\"><CustomInput type=\"checkbox\" name=\"motorAccessible\" id=\"motorAccessible\" label=\"Accessible for players with motor function issues\" value={this.props.accessibility.physical.motorAccessible} onChange={this.handlePhysicalChange}/></Col>\r\n                                        <Col xs=\"4\" id=\"motorAccessibleTooltip\"><i className=\"fa fa-question-circle full-width-right\" aria-hidden=\"true\"></i></Col>\r\n                                        <UncontrolledTooltip target=\"motorAccessibleTooltip\">If your design is required to be wheelchair accessible select this option</UncontrolledTooltip>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <p>\r\n                            These options are designed to indicate the attempted accessibility of your design. These options will flag puzzles in your design that do not meet these restrictions\r\n                        </p>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Accessibility;","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col, Alert, Button, Form, FormGroup, Label, Input, FormText} from 'reactstrap';\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email:\"\",\r\n            password:\"\",\r\n            message: \"\",\r\n            color: \"success\",\r\n            recaptcha: false\r\n        }\r\n    }\r\n\r\n    //Handles login form submit event\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        //Authenticate credentials \r\n        if(this.state.email!==\"\" && this.state.password!==\"\" && this.state.recaptcha && this.props.authenticateCredentials){\r\n            var err = await this.props.authenticateCredentials({strategy:'local',email:this.state.email,password:this.state.password});\r\n            this.setState({message:err, color:\"danger\"});\r\n        } else {\r\n            this.setState({message:\"Error\"})\r\n        }\r\n    }\r\n\r\n    //Changes state on input change\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        });\r\n    }\r\n\r\n    //Handles error dismiss\r\n    handleDismiss = (event) => {\r\n        this.setState({message: \"\", color:\"success\"});\r\n    }\r\n\r\n    //Handles button click\r\n    handleClick = async (event) => {\r\n        event.preventDefault();\r\n        if(this.props.sendReset){\r\n            let result = await this.props.sendReset(this.state.email);\r\n            this.setState({message:result.message, color:result.color});\r\n        }\r\n    }\r\n\r\n    handleReCAPTCHA = (value) => {\r\n        this.setState({recaptcha:value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login full-container verticaly-center-content\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form onSubmit={this.handleSubmit}>\r\n                                <FormGroup>\r\n                                    <Label for=\"email\">Email</Label>\r\n                                    <Input type=\"email\" name=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"password\">Password</Label>\r\n                                    <Input type=\"password\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <ReCAPTCHA\r\n                                    sitekey={process.env.REACT_APP_RECAPTCHA}\r\n                                    onChange={this.handleReCAPTCHA}\r\n                                />\r\n                                <Button disabled={this.state.email===\"\" || this.state.password===\"\" || this.state.message!==\"\" || !this.state.recaptcha}>Login</Button>\r\n                                <FormText>\r\n                                    Don't have an account? Sign Up <Link to=\"/signup\">Here</Link>\r\n                                </FormText>\r\n                                <FormText>\r\n                                    Forgotten Password? Enter your email above and then <button onClick={this.handleClick} className=\"form-control\">Click Here</button>\r\n                                </FormText>\r\n                                <Alert isOpen={this.state.message !== \"\"} toggle={this.handleDismiss} color=\"danger\">{this.state.message}</Alert>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Login;","import React, {Component} from 'react';\r\nimport '../styles/PasswordStrengthMeter.css';\r\n\r\nclass PasswordStrengthMeter extends Component {\r\n    convertScoreToLabel = (score) => {\r\n        switch(score) {\r\n            case 0:\r\n                return 'Weak';\r\n              case 1:\r\n                return 'Weak';\r\n              case 2:\r\n                return 'Fair';\r\n              case 3:\r\n                return 'Good';\r\n              case 4:\r\n                return 'Strong';\r\n              default:\r\n                return 'Weak';\r\n        }\r\n    }\r\n    render() {\r\n        const { score } = this.props; \r\n        return (\r\n            <div className=\"password-strength-meter\">\r\n                <progress className={`password-strength-meter-progress strength-${this.convertScoreToLabel(score)}`} value={score} max=\"4\"/>\r\n                <label className=\"password-strength-meter-label\">\r\n                  <strong>Password Strength:</strong> {this.convertScoreToLabel(score)}\r\n                </label>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default PasswordStrengthMeter;","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Row, Col, Alert, Button, Form, FormGroup, Label, Input, FormText} from 'reactstrap';\r\nimport PasswordStrengthMeter from './PasswordStrengthMeter'\r\nimport zxcvbn from 'zxcvbn';\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\nclass Signup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email:\"\",\r\n            password:\"\",\r\n            password2:\"\",\r\n            message: \"\",\r\n            testResult: {}\r\n        }\r\n    }\r\n\r\n    //Handles login form submit event\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if(this.state.email!==\"\" && this.state.password!==\"\" && this.state.password2!==\"\" && this.state.password===this.state.password2 && this.state.recaptcha && this.props.signUp){\r\n            let err = await this.props.signUp({email:this.state.email,password:this.state.password});\r\n            this.setState({message:err});\r\n        } else {\r\n            this.setState({message:\"Error\"});\r\n        }\r\n    }\r\n\r\n    //Changes state on input change\r\n    handleChange = (event) => {\r\n        if(event.target.id === \"password\"){\r\n            this.setState({\r\n                [event.target.id]: event.target.value,\r\n                testResult: zxcvbn(event.target.value)\r\n            },()=>this.setState({message:this.composemessage()}));\r\n        } else {\r\n            this.setState({\r\n                [event.target.id]: event.target.value,\r\n            },()=>this.setState({message:this.composemessage()}));\r\n        }\r\n    }\r\n\r\n    composemessage = () => {\r\n        let messages = [];\r\n        if(this.state.password!==\"\"&&this.state.password!==this.state.password2)\r\n            messages.push(\"Passwords Must Match\");\r\n        if(this.state.testResult.score<4)\r\n            messages.push(\"Password Not Strong Enough\");\r\n        if(this.state.password.length < 8)\r\n            messages.push(\"Password Too Short\");\r\n        if(this.state.email.contains(\" \") || this.state.email.contains(\"$\"))\r\n            messages.push(\"Invalid Email\");\r\n        return messages.join(\", \");   \r\n    }\r\n\r\n    //Handles error dismiss\r\n    handleDismiss = (event) => {\r\n        this.setState({message: \"\"});\r\n    }\r\n\r\n    handleTestResult = (testResult) => {\r\n        this.setState({testResult:testResult});\r\n    }\r\n\r\n    handleReCAPTCHA = (value) => {\r\n        this.setState({recaptcha:value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"sign-up full-container verticaly-center-content\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form noValidate onSubmit={this.handleSubmit}>\r\n                                <FormGroup>\r\n                                    <Label for=\"email\">Email</Label>\r\n                                    <Input required type=\"email\" name=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"password\">Password</Label>\r\n                                    <Input required type=\"password\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange}/>\r\n                                    <PasswordStrengthMeter score={this.state.testResult.score}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"password2\">Re-Type Password</Label>\r\n                                    <Input required type=\"password\" name=\"password2\" id=\"password2\" value={this.state.password2} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <ReCAPTCHA\r\n                                    sitekey={process.env.REACT_APP_RECAPTCHA}\r\n                                    onChange={this.handleReCAPTCHA}\r\n                                />\r\n                                <Button disabled={this.state.email===\"\" || this.state.password===\"\" || this.state.password !== this.state.password2 || this.state.message!==\"\" || !this.state.recaptcha}>Sign Up</Button>\r\n                                <FormText>\r\n                                    Passwords must be strong and 8 characters in length or more\r\n                                </FormText>\r\n                                <FormText>\r\n                                    Have an account? Log In <Link to=\"/login\">Here</Link>\r\n                                </FormText>\r\n                                <Alert isOpen={this.state.message !== \"\"} toggle={this.handleDismiss} color=\"danger\">{this.state.message}</Alert>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Signup;","import React, {Component}  from 'react';\r\nimport { Container, Row, Col } from 'reactstrap';\r\n\r\nclass About extends Component {\r\n    render() {\r\n        return (\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col>\r\n                        <p>\r\n                            This is my honours project for BsC(Hons) Computing: Application Software Development at Robert Gordon University\r\n                            This is a web app for designing an escape room using drag and drop components\r\n                        </p>       \r\n                    </Col>\r\n                    <Col>\r\n                        <ul>\r\n                            <li><a href=\"https://github.com/AldoAbdn/Escape-Room-Generator/\">Github Repo</a></li>\r\n                            <li><a href=\"https://ninjamock.com/s/KCMW2Tx\">Wireframe</a></li>\r\n                        </ul>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default About;","import React, {Component}  from 'react';\r\nimport YouTubePlaylist from 'react-youtube-playlist';\r\nimport '../styles/Tutorials.css';\r\n\r\nclass Tutorials extends Component {\r\n    render() {\r\n        return (\r\n            <YouTubePlaylist\r\n                width={'100%'}\r\n                height={'70%'}\r\n                api_key={process.env.REACT_APP_YOUTUBE_API_KEY}\r\n                playlist_id={process.env.REACT_APP_TUTORIALS_PLAYLIST_ID}\r\n                scrolling={\"auto\"}\r\n            />\r\n        )\r\n    }\r\n};\r\n\r\nexport default Tutorials;","import React, { Component } from 'react';\r\nimport { Route } from 'react-router'\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass ProtectedRoute extends Component {\r\n    render(){\r\n        if (window.localStorage.getItem('feathers-jwt')){\r\n            if(this.props.condition!==undefined){\r\n                if(!this.props.condition){\r\n                    return(<Redirect to={this.props.redirect} state={this.props.location}/>)\r\n                } else {\r\n                    return (<Route {...this.props}/>)\r\n                }\r\n            } else {\r\n                return (<Route {...this.props}/>)\r\n            }\r\n        } else {\r\n            return (<Redirect to='/login' state={this.props.location}/>)\r\n        }\r\n    }\r\n}\r\n\r\nexport default ProtectedRoute;","import React, {Component}  from 'react';\r\nimport { Container, Row } from 'reactstrap';\r\n\r\nclass NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <Row>\r\n                    <h1>404 Page Not Found</h1>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default NotFound;","import RandomWords from 'random-words';\r\n\r\nclass LockGenerator {\r\n    generateNumericCombination(length){\r\n        let number = \"\";\r\n        for(let i = 0 ; i<length; i++){\r\n            number += parseInt(Math.floor(Math.random()*9));\r\n        }\r\n        return number;\r\n    }\r\n\r\n    generateWords(amount=1,wordsPerString=1){\r\n        let words = RandomWords({min:amount,max:amount,exactly:amount,wordsPerString:wordsPerString});\r\n        return words.slice(0,amount);\r\n    }\r\n\r\n    generateDirectionSequence(length){\r\n        let sequence = [];\r\n        let directions = [\"UP\",\"DOWN\",\"LEFT\",\"RIGHT\"];\r\n        let number;\r\n        for(let i = 0 ; i<length; i++){\r\n            number = Math.floor(Math.random()*3);\r\n            sequence.push(directions[number]);\r\n        }\r\n        return sequence.join(',');\r\n    }\r\n}\r\n\r\nexport default LockGenerator;","import React, {Component}  from 'react';\r\nimport {Row,Col,Button,Input} from 'reactstrap'\r\nimport lockGen from '../generators/LockGenerator';\r\n\r\nclass LockGenerator extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={length:1,wordsPerString:1}\r\n        this.lockGenerator = new lockGen();\r\n    }\r\n\r\n    handleChange = (event) => { \r\n        let state = {};\r\n        state[event.target.name] = event.target.value;  \r\n        this.setState(state);\r\n    }\r\n\r\n    handleNumericClick = (e)=>{\r\n        let output = this.lockGenerator.generateNumericCombination(this.state.length);\r\n        this.props.handleOutputChange(output);\r\n    }\r\n\r\n    handleWordClick = (e) => {\r\n        let output = this.lockGenerator.generateWords(this.state.length,this.state.wordsPerString);\r\n        this.props.handleOutputChange(output);\r\n    }\r\n\r\n    handleDirectionalClick = (e) => {\r\n        let output = this.lockGenerator.generateDirectionSequence(this.state.length);\r\n        this.props.handleOutputChange(output);\r\n    }\r\n\r\n    render() {\r\n        switch(this.props.lockType){\r\n            case 'Numeric':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Input name=\"length\" placeholder=\"length\" type=\"number\" step=\"1\" min=\"1\" value={this.state.length} onChange={this.handleChange}/>\r\n                            <Button block onClick={this.handleNumericClick} color=\"primary\">Generate Random Number</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            case 'Word':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Input name=\"length\" placeholder=\"length\" type=\"number\" step=\"1\" min=\"1\" value={this.state.length} onChange={this.handleChange}/>\r\n                            <Input name=\"wordsPerString\" placeholder=\"words per string\" type=\"number\" step=\"1\" min=\"1\" value={this.state.wordsPerString} onChange={this.handleChange}/>\r\n                            <Button block onClick={this.handleWordClick} color=\"primary\">Generate Words</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            case 'Directional':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Input name=\"length\" placeholder=\"length\" type=\"number\" step=\"1\" min=\"1\" value={this.state.length} onChange={this.handleChange}/>\r\n                            <Button block onClick={this.handleDirectionalClick} color=\"primary\">Generate Directional Sequence</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            default:\r\n                return null;\r\n            \r\n        }\r\n    }\r\n};\r\n\r\nexport default LockGenerator;","class Puzzle {\r\n    constructor(type){\r\n        this.type=type;\r\n    }\r\n}\r\nexport default Puzzle;","import Puzzle from './Puzzle';\r\nclass Colour extends Puzzle{\r\n    constructor(){\r\n        super('Colour')\r\n        let numbers = this.generateNumbers();\r\n        this.output = numbers.num1.toString() + numbers.num2.toString() + numbers.num3.toString() + numbers.num4.toString();\r\n        this.answer= numbers.num1.toString() + numbers.num2.toString() + numbers.num3.toString() + numbers.num4.toString();\r\n        this.numbers = numbers.numbers;\r\n    }\r\n\r\n    generateNumbers(){\r\n        let num1 = Math.floor(Math.random()*4)+1;\r\n        let num2;\r\n        while(num2!==num1){\r\n            num2 = Math.floor(Math.random()*4)+1;\r\n        }\r\n        let num3 = num1 + num2;\r\n        let num4 = Math.floor(Math.random()*4)+1;\r\n        let numbers = [{number:num1,colour:'red'},{number:num2,colour:'blue'},{number:num3,colour:'purple'},{number:num4,colour:'green'}];\r\n        return {num1,num2,num3,num4,numbers};\r\n    }\r\n}\r\nexport default Colour;","import CrosswordGenerator from 'cwg';\r\nimport Puzzle from './Puzzle';\r\nclass Crossword extends Puzzle {\r\n    constructor(output=\"\",words,hints,answers){\r\n        super('Crossword');\r\n        this.type=\"crossword\";\r\n        this.output=\"\";\r\n        this.words=words;\r\n        this.hints=hints;\r\n        this.answers=answers;\r\n        this.crossword=CrosswordGenerator(words);\r\n    }\r\n}\r\nexport default Crossword;","import Puzzle from './Puzzle';\r\nclass HiddenWord extends Puzzle{\r\n    constructor(word,words,hints,answers){\r\n        super('HiddenWord');\r\n        this.output=word;\r\n        this.word=word;\r\n        this.words=words;\r\n        this.hints=hints;\r\n        this.answers=answers;\r\n        this.hiddenWord=this.generateHiddenWord(word,words);\r\n    }\r\n\r\n    generateHiddenWord(word,words){\r\n        let matrix = [];\r\n        for (let i=0;i<words.length;i++){\r\n            matrix.push(words[i].indexOf(word[i]));\r\n        }\r\n\r\n        return matrix;\r\n    }\r\n}\r\nexport default HiddenWord;","import riddles from '../generators/riddle.json';\r\nimport Puzzle from './Puzzle';\r\nclass Riddle extends Puzzle {\r\n    constructor(){\r\n        super('Riddle');\r\n        let riddle = this.generateRandomRiddle();\r\n        this.output=riddle.answer;\r\n        this.riddle=riddle;\r\n    }\r\n    generateRandomRiddle(){\r\n        return riddles[Math.floor(Math.random()*riddles.length)];\r\n    }\r\n}\r\nexport default Riddle;","import Puzzle from './Puzzle';\r\nimport encoders from '../ciphers/encoders.json';\r\nimport decoders from '../ciphers/decoders.json';\r\nclass Cipher extends Puzzle{\r\n    constructor(cipherType=\"pigpen\",encoder=encoders['pigpen'],decoder=decoders['pigpen']){\r\n        super('Cipher')\r\n        this.cipherType = cipherType;\r\n        this.encoderDATA = encoder;\r\n        this.decoderDATA = decoder;\r\n    }\r\n}\r\nexport default Cipher;","import {Crossword,HiddenWord,Riddle,Colour,Cipher} from '../puzzles/index';\r\nclass PuzzleGenerator {\r\n    generateCipher(type=\"pigpen\"){\r\n        switch(type){\r\n            case 'pigpen':\r\n                return new Cipher();\r\n            default:\r\n                return new Cipher();\r\n        }\r\n    }\r\n\r\n    generateWord(type=\"crossword\",options) {\r\n        switch(type){\r\n            case 'crossword':\r\n                return new Crossword(\"\",options.words,options.hints,options.answers);\r\n            case 'hidden':\r\n                return new HiddenWord(options.word,options.words,options.hints,options.answers);\r\n            case 'riddle':\r\n                return new Riddle();\r\n            default:\r\n                return new Riddle();\r\n        }\r\n    }\r\n\r\n    generateColour(){\r\n        return new Colour();\r\n    }\r\n}\r\n\r\nexport default PuzzleGenerator;","import React, {Component}  from 'react';\r\nimport {Row, Col, Button, Input, InputGroup, InputGroupAddon, InputGroupText} from 'reactstrap';\r\n\r\nclass ListCreator extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {items:[\"\"]};\r\n    }\r\n\r\n    handleChange = (event) => { \r\n        let index = event.target.id;\r\n        let items = [...this.state.items];\r\n        items[index] = event.target.value;\r\n        this.setState({items},()=>{\r\n            this.props.handleChange(items);\r\n        });\r\n    }\r\n\r\n    addItem =  (e) => {\r\n        let items = [...this.state.items];\r\n        items.push(\"\");\r\n        this.setState({items});\r\n        this.props.handleChange(items);\r\n    }\r\n\r\n    removeItem = (index) => (e) => {\r\n        let items = [...this.state.items];\r\n        items = [...items.slice(0,index),...items.slice(index+1)];\r\n        this.setState({items});\r\n        this.props.handleChange(items);\r\n    }\r\n    \r\n    mapItemsToInputs = (item,index,array)=>{\r\n        return (\r\n            <InputGroup key={index}>\r\n                <Input type=\"text\" id={index} onChange={this.handleChange}/>\r\n                <InputGroupAddon addonType=\"append\">\r\n                    <InputGroupText onClick={this.removeItem(index)}>\r\n                        delete\r\n                    </InputGroupText>\r\n                </InputGroupAddon>\r\n            </InputGroup>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let items = this.state.items.map(this.mapItemsToInputs);\r\n        return (\r\n            <Row>\r\n                <Col>\r\n                    <Button onClick={this.addItem}>Add Item</Button>\r\n                    {items}\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n};\r\n\r\nexport default ListCreator;","import React, {Component}  from 'react';\r\nimport {Row,Col,Button,Input} from 'reactstrap'\r\nimport puzzleGenerator from '../generators/PuzzleGenerator';\r\nimport ListCreator from '../components/ListCreator';\r\n\r\nclass PuzzleGenerator extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {word:\"\",words:[],hints:[],answers:[],cipher:\"pigpen\"};\r\n        this.PuzzleGenerator = new puzzleGenerator();\r\n    }\r\n\r\n    //Changes state on input change\r\n    handleChange = (event) => { \r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleListChange = (key) => (list) => {\r\n        this.setState({[key]:list});\r\n    }\r\n\r\n    handleWordClick = (e) => {\r\n        let options = {...this.state};\r\n        this.props.handlePuzzleChange(this.PuzzleGenerator.generateWord('hidden',options))\r\n    }\r\n\r\n    handleRiddleClick = (e) => {\r\n        this.props.handlePuzzleChange(this.PuzzleGenerator.generateWord('riddle'))\r\n    }\r\n\r\n    handleCipherClick = (e) => {\r\n        this.props.handlePuzzleChange(this.PuzzleGenerator.generateCipher(this.state.cipher))\r\n    }\r\n\r\n    render() {\r\n        switch(this.props.puzzleType){\r\n            case 'Hidden Word':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Input type=\"text\" name='word' id='word' placeholder='hidden word'value={this.state.word} onChange={this.handleChange}></Input>\r\n                            <p>Words</p>\r\n                            <ListCreator handleChange={this.handleListChange('words')}/>\r\n                            <p>Hints</p>\r\n                            <ListCreator handleChange={this.handleListChange('hints')}/>\r\n                            <p>Answers</p>\r\n                            <ListCreator handleChange={this.handleListChange('answers')}/>\r\n                            <Button block onClick={this.handleWordClick} color=\"primary\">Generate Hidden Word</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            case 'Riddle':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Button block onClick={this.handleRiddleClick} color=\"primary\">Generate Random Riddle</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            case 'Cipher':\r\n                return (\r\n                    <Row>\r\n                        <Col>\r\n                            <Input type=\"select\" name=\"cipher\" id=\"cipher\" placeholder=\"cipher\" value={this.state.cipher} onChange={this.handleChange}>\r\n                                <option>pigpen</option>\r\n                            </Input>\r\n                            <Button block onClick={this.handleCipherClick} color=\"primary\">Generate Cipher</Button>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            default:\r\n                return null;\r\n        }\r\n\r\n    }\r\n};\r\n\r\nexport default PuzzleGenerator;","import React, {Component}  from 'react';\r\nimport { Container, Row, Col, Alert } from 'reactstrap';\r\n\r\nclass Verify extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {color:\"success\",message:\"\"};\r\n    }\r\n    verify = async () => {\r\n        if(this.props.verify){\r\n            var result = await this.props.verify(this.props.token);\r\n            this.setState({color:result.type,message:result.message});\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.verify();\r\n    }\r\n    render() {\r\n        return (\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col>\r\n                        <Alert isOpen={this.state.message!==\"\"} color={this.state.color}>{this.state.message}</Alert>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Verify;","import React, {Component} from 'react';\r\nimport { Container, Row, Col, Alert, Button, Form, FormGroup, Label, Input, FormText} from 'reactstrap';\r\nimport PasswordStrengthMeter from './PasswordStrengthMeter'\r\nimport zxcvbn from 'zxcvbn';\r\n\r\nclass Reset extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email:\"\",\r\n            password:\"\",\r\n            password2:\"\",\r\n            message: \"\",\r\n            color:\"success\",\r\n            testResult: {}\r\n        }\r\n    }\r\n\r\n    //Handles login form submit event\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if(this.props.password!==\"\" && this.props.password===this.props.password2 && this.props.signUp){\r\n            let result = await this.props.reset(this.state.email,this.props.token,this.state.password);\r\n            this.setState({message:result.message, color:result.color});\r\n        }\r\n    }\r\n\r\n    //Changes state on input change\r\n    handleChange = (event) => {\r\n        if(event.target.id === \"password\"){\r\n            this.setState({\r\n                [event.target.id]: event.target.value,\r\n                testResult: zxcvbn(event.target.value)\r\n            },()=>this.setState({message:this.composemessage()}));\r\n        } else {\r\n            this.setState({\r\n                [event.target.id]: event.target.value,\r\n            },()=>this.setState({message:this.composemessage()}));\r\n        }\r\n    }\r\n\r\n    composemessage = () => {\r\n        let messages = [];\r\n        if(this.state.password!==\"\"&&this.state.password!==this.state.password2)\r\n            messages.push(\"Passwords Must Match\");\r\n        if(this.state.testResult.score<4)\r\n            messages.push(\"Password Not Strong Enough\");\r\n        if(this.state.password.length < 8)\r\n            messages.push(\"Password Too Short\");\r\n        if(this.state.email.contains(\" \") || this.state.email.contains(\"$\"))\r\n            messages.push(\"Invalid Email\");\r\n        return messages.join(\", \");   \r\n    }\r\n\r\n    //Handles error dismiss\r\n    handleDismiss = (event) => {\r\n        this.setState({message: \"\"});\r\n    }\r\n\r\n    handleTestResult = (testResult) => {\r\n        this.setState({testResult:testResult});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"sign-up full-container verticaly-center-content\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form noValidate onSubmit={this.handleSubmit}>\r\n                                <FormGroup>\r\n                                    <Label for=\"email\">Email</Label>\r\n                                    <Input required type=\"email\" name=\"email\" id=\"email\" value={this.state.email} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"password\">Password</Label>\r\n                                    <Input required type=\"password\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange}/>\r\n                                    <PasswordStrengthMeter score={this.state.testResult.score}/>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"password2\">Re-Type Password</Label>\r\n                                    <Input required type=\"password\" name=\"password2\" id=\"password2\" value={this.state.password2} onChange={this.handleChange}/>\r\n                                </FormGroup>\r\n                                <Button disabled={this.state.email===\"\" || this.state.password===\"\" || this.state.password !== this.state.password2 || this.state.message!==\"\"}>Sign Up</Button>\r\n                                <FormText>\r\n                                    Passwords must be strong and 8 characters in length or more\r\n                                </FormText>\r\n                                <Alert isOpen={this.state.message !== \"\"} toggle={this.handleDismiss} color={this.state.color}>{this.state.message}</Alert>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Reset;","import React, {Component}  from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport { Redirect } from 'react-router-dom';\r\n//Components\r\nimport { Dashboard, EscapeRoomDesigner, Login, Signup, Tutorials, About, ProtectedRoute, NotFound, Verify, Reset } from '../components/index.js';\r\nimport EscapeRoom from '../models/EscapeRoom.js';\r\n/**\r\n * Business logic of app \r\n * handles creating and updating of data \r\n * handles navigation \r\n * @class\r\n * @author Alistair Quinn\r\n */\r\nclass BusinessLogic extends Component {\r\n    /**\r\n     * Authenticates login credentials \r\n     * @function\r\n     * @param {Object} credentials \r\n     */\r\n    authenticateCredentials = async(credentials)=>{\r\n        try {\r\n            let { user } = await this.props.feathersClient.authenticate(credentials);\r\n            if(user!=null){\r\n                user.token = window.localStorage.getItem('feathers-jwt');\r\n                this.props.redux.actions.user.login(user);\r\n                this.props.history.push('/dashboard');\r\n            }\r\n        } catch(err){\r\n            return err.message;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a new user \r\n     * @function\r\n     * @param {Object} credentials \r\n     */\r\n    signUp = async(credentials)=>{\r\n        //Create a new user \r\n        try{\r\n            await this.props.services.users.create(credentials);\r\n            //Authenticate with feathersjs\r\n            await this.props.feathersClient.authenticate({strategy:'local',email:credentials.email,password:credentials.password});\r\n            //Get User Details and Update Redux Store\r\n            let queryResult = await this.props.services.users.find({query:{email:credentials.email}});\r\n            if(queryResult.action.type.includes('FULFILLED')){\r\n                var user = queryResult.value.data[0];\r\n                user.token = window.localStorage.getItem('feathers-jwt');\r\n                this.props.redux.actions.user.login(user);\r\n                this.props.history.push('/dashboard');\r\n            }\r\n        } catch(error){\r\n            return error.message;\r\n        }\r\n    }\r\n    /**\r\n     * Opens escape room designer\r\n     * @function\r\n     * @param {EscapeRoom} escapeRoom\r\n     */\r\n    editEscapeRoom = (escapeRoom) => {\r\n        this.props.redux.actions.escapeRoom.setSelectedEscapeRoom(escapeRoom);\r\n        this.props.history.push('/designer');\r\n    }\r\n    /**\r\n     * Creates a new escape room \r\n     * then opens designer\r\n     * @function\r\n     */\r\n    newEscapeRoom = async() => {\r\n        const userId = this.props.redux.state.user._id;\r\n        const newEscapeRoom = new EscapeRoom(userId);\r\n        let response = await this.props.services['escape-rooms'].create(newEscapeRoom)\r\n        if(response.action.type.includes('FULFILLED')){\r\n            const escapeRoom = response.value;\r\n            if (escapeRoom!==null){\r\n                this.props.redux.actions.escapeRooms.addEscapeRoom(escapeRoom);\r\n                this.props.redux.actions.escapeRoom.setSelectedEscapeRoom(escapeRoom);\r\n                this.props.history.push('/designer');\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Deletes an escape room\r\n     * @function\r\n     * @param {EscapeRoom} escapeRoom\r\n     */\r\n    deleteEscapeRoom = (escapeRoom) => {\r\n        this.props.services['escape-rooms'].remove(escapeRoom._id);\r\n        this.props.redux.actions.escapeRooms.removeEscapeRoom(escapeRoom);\r\n    }\r\n    /**\r\n     * Saves an escape room\r\n     * @function\r\n     * @param {EscapeRoom} escapeRoom\r\n     */\r\n    saveEscapeRoom = async(escapeRoom) => {\r\n        if(escapeRoom._id!==undefined){\r\n            escapeRoom.estimatedCost = EscapeRoom.calculateCost(escapeRoom);\r\n            await this.props.services['escape-rooms'].update(escapeRoom._id,escapeRoom);\r\n            await this.props.redux.actions.escapeRooms.updateEscapeRoom(escapeRoom);\r\n        }\r\n        this.props.history.push('/');\r\n    }\r\n    /**\r\n     * Verifies a user account via token\r\n     * @function\r\n     * @param {String} token\r\n     */\r\n    verify = async(token)=>{\r\n        let result = await this.props.services.authManagement.create({action:'verifySignupLong'},{value:token});\r\n        if(result.action.type.include('FULFILLED')){\r\n            return {color:\"success\", message:\"Account Verified\"};\r\n        } else {\r\n            return {color:\"danger\", message:\"Error\"}\r\n        }\r\n    }\r\n    /**\r\n     * Resets users password\r\n     * @function\r\n     * @param {String} email\r\n     * @param {String} token\r\n     * @param {String} password\r\n     */\r\n    reset = async(email, token, password) => {\r\n        let result = await this.props.services.authManagement.create({action:'resetPwdLong'},{token,password});\r\n        if(result.action.type.include('FULFILLED')){\r\n            return {color:\"success\", message:\"Password Reset\"};\r\n        } else {\r\n            return {color:\"danger\", message:\"Error\"}\r\n        }\r\n    }\r\n    /**\r\n     * Sends password reset\r\n     * @function\r\n     * @param {String} email\r\n     */\r\n    sendReset = async(email) => {\r\n        let result = await this.props.services.authManagement.create({action:'sendResetPwd'},{value:{email}});\r\n        if(result.action.type.include('FULFILLED')){\r\n            return {color:\"success\", message:\"Password Reset Send, Check Emails\"};\r\n        } else {\r\n            return {color:\"danger\", message:\"Error\"}\r\n        }\r\n    }\r\n    /**\r\n     * React lifecycle method\r\n     * Renders navigation \r\n     * @function\r\n     */\r\n    render() {\r\n        const escapeRooms = this.props.redux.state.escapeRooms;\r\n        const escapeRoom = this.props.redux.state.escapeRoom;\r\n        const escapeRoomActions = this.props.redux.actions.escapeRoom;\r\n        const showModal = this.props.redux.actions.modal.showModal;\r\n        return (\r\n            <Switch>\r\n                <Redirect exact from=\"/\" to=\"dashboard\"/>\r\n                <ProtectedRoute path=\"/dashboard\" render={(routeProps) => (<Dashboard escapeRooms={escapeRooms} showModal={showModal} editEscapeRoom={this.editEscapeRoom} newEscapeRoom={this.newEscapeRoom} deleteEscapeRoom={this.deleteEscapeRoom}/>)}/>\r\n                <ProtectedRoute path=\"/designer\" condition={Object.keys(escapeRoom).length > 0 &&escapeRoom!==undefined} redirect={'/'} render={(routeProps) =>(<EscapeRoomDesigner showModal={showModal} escapeRoom={escapeRoom} saveEscapeRoom={this.saveEscapeRoom} updateDetails={escapeRoomActions.updateDetails} updateAccessibility={escapeRoomActions.updateAccessibility} addComponent={escapeRoomActions.addComponent} removeComponent={escapeRoomActions.removeComponent} updateComponent={escapeRoomActions.updateComponent} addRelationship={escapeRoomActions.addRelationship} removeRelationship={escapeRoomActions.removeRelationship}/>)}/>\r\n                <Route path=\"/login\" render={(routeProps) => (<Login authenticateCredentials={this.authenticateCredentials}/>)}/>\r\n                <Route path=\"/signup\" render={(routeProps) => (<Signup signUp={this.signUp}/>)}/>\r\n                <Route path=\"/about\" component={About}/>\r\n                <Route path=\"/tutorials\" component={Tutorials}/>\r\n                <Route path=\"/verify/:token\" render={(routeProps) => (<Verify token={routeProps.match.params.token} verify={this.verify}/>)}/>\r\n                <Route path=\"/reset/:token\" componet={(routeProps) => (<Reset token={routeProps.match.params.token} reset={this.reset}/>)}/>\r\n                <Route component={NotFound}/>\r\n            </Switch> \r\n        )\r\n    }\r\n};\r\n\r\nexport default BusinessLogic;","import React, {Component}  from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Navbar, NavbarBrand, NavbarToggler, Collapse, Nav, NavItem, NavLink, Dropdown, DropdownToggle, DropdownMenu} from 'reactstrap';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\nimport Profile from '../components/Profile';\r\nimport '../styles/Main.css';\r\n\r\n/**\r\n * Defines main layout of app \r\n * Handles re-authentication of logged in user \r\n * Renders business logic \r\n * @class Main \r\n * @author Alistair Quinn\r\n */\r\nimport BusinessLogic from './BusinessLogic.js';\r\nclass Main extends Component {\r\n    /**\r\n     * Main constructor to set initial state\r\n     * @constructor\r\n     */\r\n    constructor(){\r\n        super();\r\n        this.state = {profile:false, isProfileOpen:false,tooltipOpen:false, isOpen:false};\r\n    }\r\n\r\n    /**\r\n     * Toggles for bootstrap\r\n     */\r\n    toggle=()=>{\r\n        this.setState({isOpen:!this.state.isOpen});\r\n    }\r\n    toggleProfile=()=>{\r\n        this.setState({isProfileOpen:!this.state.isProfileOpen});\r\n    }\r\n\r\n    /**\r\n     * React lifecycle method\r\n     * Updates profile if user has changed\r\n     * @function\r\n     * @param {Object} prevProps \r\n     */\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.redux.state.user.email!==this.props.redux.state.user.email){\r\n            this.populateEscapeRooms(this.props.redux.state.user._id);\r\n            if(this.props.redux.state.user.email !== undefined){\r\n                this.setState({profile:true});\r\n            } else {\r\n                this.setState({profile:false});\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * React lifecycle method \r\n     * Updates profile is logged in\r\n     * @function\r\n     */\r\n    componentDidMount() {\r\n        if (window.localStorage.getItem('feathers-jwt') && this.props.redux.state.user.email!==undefined){\r\n            this.setState({profile:true});\r\n        } else if (window.localStorage.getItem('feathers-jwt') && this.props.redux.state.user.email===undefined){\r\n            this.authenticate();\r\n        }\r\n    }\r\n    /**\r\n     * Authentication\r\n     * @function\r\n     */\r\n    authenticate = async() => {\r\n        //Authenticates JWT and then populates user/escapeRooms\r\n        try{\r\n            let { user } = await this.props.feathersClient.reAuthenticate();\r\n            if(user!=null){\r\n                user.token = window.localStorage.getItem('feathers-jwt');\r\n                this.props.redux.actions.user.login(user);\r\n                await this.populateEscapeRooms(user._id);\r\n            }\r\n        } catch(error){\r\n            this.logout();\r\n        }\r\n    }\r\n    /**\r\n     * Popultes escape rooms by user ID\r\n     * @function\r\n     * @param {String} userId\r\n     * @returns {Array}\r\n     */\r\n    populateEscapeRooms = async (userId) => {\r\n        //Get User Details and Update Redux Store\r\n        if (userId !== null && userId !== undefined){\r\n            let result = await this.props.services['escape-rooms'].find({query:{userId:userId}});\r\n            if(result.action.type.includes('FULFILLED')){\r\n                const escapeRooms = result.value.data;\r\n                if (escapeRooms!==null && escapeRooms!==undefined)\r\n                    this.props.redux.actions.escapeRooms.updateEscapeRooms(escapeRooms);\r\n                    this.setState({loading:false});\r\n                }\r\n        }\r\n    }\r\n    /**\r\n     * Logs out user, tidys up\r\n     * @function\r\n     */\r\n    logout = () => {\r\n        this.props.feathersClient.logout();\r\n        window.localStorage.removeItem('feathers-jwt');\r\n        this.setState({profile:null});\r\n        this.props.redux.actions.user.logout();\r\n        this.props.history.push('/');\r\n    }\r\n    /**\r\n     * Edits a users email\r\n     * @function\r\n     * @param {String} email\r\n     * @param {String} password\r\n     * @param {Object} change\r\n     */\r\n    identityChange = async(user, password, changes)=>{\r\n        let result = await this.props.services.authManagement.create({action:'identityChange'},{user,password,changes});\r\n        if(result.action.type.include('FULFILLED')){\r\n            return {color:\"success\", message:\"Email Saved\"};\r\n        } else {\r\n            return {color:\"danger\", message:\"Error\"}\r\n        }\r\n    }\r\n    /**\r\n     * React lifecycle method \r\n     * Renders main layout\r\n     * @function\r\n     * @returns {JSX}\r\n     */\r\n    render() {\r\n        const loading = this.state.loading || this.props.redux.state.usersService.isLoading || this.props.redux.state.escapeRoomsService.isLoading || this.props.redux.state.authManagementService.isLoading;\r\n        const modal = this.props.redux.state.modal;\r\n        const hideModal = this.props.redux.actions.modal.hideModal;\r\n        let user = this.props.redux.state.user;\r\n        let profile;\r\n        if(this.state.profile){\r\n            profile =                                 \r\n            <Dropdown isOpen={this.state.isProfileOpen} toggle={this.toggleProfile} nav inNavbar>\r\n                <DropdownToggle nav caret>\r\n                Profile\r\n                </DropdownToggle>\r\n                <DropdownMenu right>\r\n                    <Profile user={user} identityChange={this.identityChange}/>\r\n                    <Button id=\"LogoutButton\" onClick={this.logout} block>Logout</Button>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n        } else {\r\n            profile = null;\r\n        }\r\n        return (\r\n            <div>   \r\n                <LoadingOverlay className={'loading-overlay'} active={loading} spinner>       \r\n                    <header>\r\n                        <Navbar color=\"light\" light expand=\"md\">\r\n                            <NavbarBrand href=\"/\"><img src=\"/images/logos/main.svg\" alt=\"Logo\"/></NavbarBrand>\r\n                            <NavbarToggler onClick={this.toggle} />\r\n                            <Collapse isOpen={this.state.isOpen} navbar>\r\n                                <Nav className=\"ml-auto\" navbar>\r\n                                <NavItem>\r\n                                    <NavLink href=\"https://forms.office.com/Pages/ResponsePage.aspx?id=nKagUU8OPUu2QhLgExmGNYQo7GuPpvBIkCZBfnEHlpZUOUZWQkVHTlNCOVNQS0xOWlMyTzZSRjU2Mi4u\">Survey</NavLink>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <NavLink href=\"https://github.com/AldoAbdn/Escape-Room-Generator\">GitHub</NavLink>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <Link className=\"nav-link\" to=\"/about\">About</Link>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <Link className=\"nav-link\" to=\"/tutorials\">Tutorials</Link>\r\n                                </NavItem>\r\n                                {profile}\r\n                                </Nav>\r\n                            </Collapse>\r\n                        </Navbar>\r\n                    </header>\r\n                    <main>\r\n                        <BusinessLogic history={this.props.history} feathersClient={this.props.feathersClient} redux={this.props.redux} services={this.props.services}/>\r\n                    </main>\r\n                </LoadingOverlay>\r\n                <Modal isOpen={modal.isOpen} >\r\n                    <ModalHeader>{modal.header}</ModalHeader>\r\n                    <ModalBody>\r\n                        {modal.body}\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button color=\"success\" onClick={()=>{\r\n                            modal.confirm.action();\r\n                            hideModal();\r\n                        }}>{modal.confirm.text}</Button>\r\n                        <Button color=\"danger\" onClick={()=>{\r\n                            modal.cancel.action();\r\n                            hideModal();\r\n                        }}>{modal.cancel.text}</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Main;","export function login(user) {\r\n    return {\r\n        type: 'LOGIN', user\r\n    }\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: 'LOGOUT'\r\n    }\r\n}\r\n\r\n","export function addEscapeRoom(escapeRoom){\r\n    return {\r\n        type: 'ADD_ESCAPE_ROOM',\r\n        escapeRoom\r\n    }\r\n}\r\n\r\nexport function removeEscapeRoom(escapeRoom){\r\n    return {\r\n        type: 'REMOVE_ESCAPE_ROOM',\r\n        escapeRoom\r\n    }\r\n}\r\n\r\nexport function updateEscapeRoom(escapeRoom){\r\n    return {\r\n        type: 'UPDATE_ESCAPE_ROOM',\r\n        escapeRoom\r\n    }\r\n}\r\n\r\nexport function updateEscapeRooms(escapeRooms){\r\n    return {\r\n        type: 'UPDATE_ESCAPE_ROOMS',\r\n        escapeRooms\r\n    }\r\n}","export function setSelectedEscapeRoom(escapeRoom){\r\n    return {\r\n        type: 'SET_SELECTED_ESCAPE_ROOM',\r\n        escapeRoom\r\n    }\r\n}\r\n\r\nexport function clearSelectedEscapeRoom(escapeRoom){\r\n    return {\r\n        type: 'CLEAR_SELECTED_ESCAPE_ROOM',\r\n        escapeRoom\r\n    }\r\n}\r\n\r\nexport function updateDetails(details){\r\n    return {\r\n        type: 'UPDATE_DETAILS',\r\n        details\r\n    }\r\n}\r\n\r\nexport function updateAccessibility(accessibility){\r\n    return {\r\n        type: 'UPDATE_ACCESSIBILITY',\r\n        accessibility\r\n    }\r\n}\r\n\r\nexport function addComponent(component, areaId){\r\n    return {\r\n        type: 'ADD_COMPONENT',\r\n        component,\r\n        areaId\r\n    }\r\n}\r\n\r\nexport function removeComponent(componentId){\r\n    return {\r\n        type: 'REMOVE_COMPONENT',\r\n        componentId\r\n    }\r\n}\r\n\r\nexport function updateComponent(component,areaId){\r\n    return {\r\n        type: 'UPDATE_COMPONENT',\r\n        component,\r\n        areaId\r\n    }\r\n}\r\n\r\nexport function addRelationship(componentId,parentId,isInput){\r\n    return {\r\n        type: 'ADD_RELATIONSHIP',\r\n        componentId,\r\n        parentId,\r\n        isInput\r\n    }\r\n}\r\n\r\nexport function removeRelationship(componentId,parentId,isInput){\r\n    return {\r\n        type: 'REMOVE_RELATIONSHIP',\r\n        componentId,\r\n        parentId,\r\n        isInput\r\n    }\r\n}\r\n\r\n","export function showModal(modal){\r\n    return {\r\n        type: 'SHOW_MODAL',\r\n        modal\r\n    }\r\n}\r\n\r\nexport function hideModal(){\r\n    return {\r\n        type: 'HIDE_MODAL'\r\n    }\r\n}","/**\r\n * Connects redux state and actions to the whole app,\r\n * makes sure routing is possible,\r\n * @class App\r\n * @author Alistair Quinn  \r\n */\r\n\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router'\r\nimport '../styles/App.css';\r\nimport Main from './Main';\r\nimport * as userActionCreators from '../actions/user';\r\nimport * as escapeRoomsActionCreators from '../actions/escapeRooms';\r\nimport * as escapeRoomActionCreators from '../actions/escapeRoom';\r\nimport * as modalActionCreators from '../actions/modal';\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    redux: state\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  const user = bindActionCreators(userActionCreators, dispatch);\r\n  const escapeRooms = bindActionCreators(escapeRoomsActionCreators, dispatch);\r\n  const escapeRoom = bindActionCreators(escapeRoomActionCreators, dispatch);\r\n  const modal = bindActionCreators(modalActionCreators, dispatch);\r\n  return {user, escapeRooms, escapeRoom, modal};\r\n}\r\n\r\nfunction mergeProps(stateProps, dispatchProps, ownProps) {\r\n  return {\r\n    ...ownProps,\r\n    redux: {\r\n      state: stateProps.redux,\r\n      actions: dispatchProps\r\n    }\r\n  }\r\n}\r\n\r\nconst App = connect(mapStateToProps, mapDispatchToProps, mergeProps)(Main);\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType !== null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Main file, starts front end and renders App \r\n * @author Alistair Quinn\r\n */\r\n//Polyfills\r\nimport 'react-app-polyfill/ie9';\r\n//React Imports \r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n//Redux Imports\r\nimport { Provider } from 'react-redux';\r\n//Store \r\nimport configureStore from './stores/store'\r\n//Feathers\r\nimport io from 'socket.io-client';\r\nimport feathers from '@feathersjs/client';\r\n//Feathers-Redux\r\nimport reduxifyServices, {getServicesStatus, bindWithDispatch} from 'feathers-redux';\r\n//CSS\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n//Components\r\nimport App from './components/App';\r\n//Service Worker \r\nimport * as serviceWorker from './serviceWorker';\r\n//ReactDnD\r\nimport HTML5Backend from 'react-dnd-html5-backend';\r\nimport TouchBackend from 'react-dnd-touch-backend';\r\nimport MultiBackend, { TouchTransition } from 'react-dnd-multi-backend';\r\nimport { DragDropContextProvider } from 'react-dnd';\r\nlet pipline = {\r\n    backends: [\r\n        {backend: HTML5Backend},\r\n        {\r\n            backend: TouchBackend({enableMouseEvents:true}),\r\n            preview: true,\r\n            transition: TouchTransition\r\n        }\r\n    ]\r\n};\r\nlet backend = MultiBackend(pipline);\r\n\r\n//Feathers Configuration \r\nexport const feathersClient = feathers()\r\n    .configure(feathers.socketio(io()))\r\n    .configure(feathers.authentication({\r\n        storage:window.localStorage\r\n    }));\r\n\r\n//Configure Redux\r\nconst rawServices = reduxifyServices(feathersClient, ['users', 'escape-rooms', 'authmanagement']);\r\nconst store = configureStore(rawServices,{user:{},escapeRooms:[],escapeRoom:{}});\r\nconst services = bindWithDispatch(store.dispatch, rawServices);\r\n\r\n//Router\r\nconst router = (\r\n    <DragDropContextProvider backend={backend}>\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <App feathersClient={feathersClient} services={services} getServicesStatus={getServicesStatus}/>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    </DragDropContextProvider>\r\n);\r\n\r\n//Render Router \r\nReactDOM.render(router, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport middlewares from '../middleware';\r\nimport rootReducer from '../reducers';\r\n\r\nexport default function configureStore(reduxifiedServices, initialState) {\r\n    const createStoreWithDevTools = window.devToolsExtension ? window.devToolsExtension()(createStore) : createStore;\r\n    const createStoreWithMiddlewares = applyMiddleware(...middlewares)(createStoreWithDevTools);\r\n    return createStoreWithMiddlewares(rootReducer(reduxifiedServices),initialState);\r\n}"],"sourceRoot":""}